<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sometimes Jeremy Thinks on Sometimes Jeremy Thinks</title>
    <link>https://ackso.net/</link>
    <description>Recent content in Sometimes Jeremy Thinks on Sometimes Jeremy Thinks</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2017 Jeremy T Jackson</copyright>
    <lastBuildDate>Sun, 15 Oct 2017 00:00:00 -0600</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>XMPP With Node.js</title>
      <link>https://ackso.net/post/xmpp-with-nodejs/</link>
      <pubDate>Sun, 08 Jul 2018 00:21:20 -0600</pubDate>
      
      <guid>https://ackso.net/post/xmpp-with-nodejs/</guid>
      <description>

&lt;p&gt;XMPP has been around for a long time at this point.  Libraries for most popular
languages exist and work quite well.  There&amp;rsquo;s even an &lt;a href=&#34;https://xmpp.org/about/xmpp-standards-foundation.html&#34; target=&#34;_blank&#34;&gt;XMPP standards
body&lt;/a&gt; that promotes the
official libraries that they suggest based on quality.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&#34;https://xmppjs.org&#34; target=&#34;_blank&#34;&gt;XMPP.js&lt;/a&gt; library for JavaScript turns out to be really
good, but somehow really poorly documented. There are a couple of half-baked
examples, but I found that it still took time to get something running that
touched on some of the major features of XMPP.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ve also been working through the 2009
&lt;a href=&#34;http://shop.oreilly.com/product/9780596521271.do&#34; target=&#34;_blank&#34;&gt;XMPP&lt;/a&gt; book from O&amp;rsquo;Reilly,
which is mostly oriented around clients rather than technical implementations,
but is still good for understanding the theory and operations. My only wish is
that this book would also have contained instructions on setting up a Jabber
server.  It would have come in handy.&lt;/p&gt;

&lt;p&gt;Anyhow, below I&amp;rsquo;m going to do a quick walk-through of what I did to get an
&lt;a href=&#34;https://ejabberd.im&#34; target=&#34;_blank&#34;&gt;ejabberd&lt;/a&gt; server running in
&lt;a href=&#34;https://vagrantup.com&#34; target=&#34;_blank&#34;&gt;Vagrant&lt;/a&gt;, connect to it from my laptop using
&lt;a href=&#34;https://pidgin.im&#34; target=&#34;_blank&#34;&gt;Pidgin&lt;/a&gt;, and run the &amp;ldquo;Echo Bot&amp;rdquo; example from the XMPP book,
but using Node.js instead of Python. The Echo Bot just repeats everything you IM
to it. Nothing too fancy.&lt;/p&gt;

&lt;p&gt;The GitLab repo for this project is
&lt;a href=&#34;https://gitlab.com/jeremy.jackson/use-xmpp&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt; if you don&amp;rsquo;t want to take the
time to implement this yourself.&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ejabberd-in-vagrant&#34;&gt;ejabberd in Vagrant&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#here-s-my-vagrantfile&#34;&gt;Here&amp;rsquo;s my &lt;code&gt;Vagrantfile&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#here-s-my-setup-sh&#34;&gt;Here&amp;rsquo;s my &lt;code&gt;setup.sh&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#installing-pidgin&#34;&gt;Installing Pidgin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#node-js-echo-bot&#34;&gt;Node.js Echo Bot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#running-it-all&#34;&gt;Running it all&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#conclusion&#34;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;ejabberd-in-vagrant&#34;&gt;ejabberd in Vagrant&lt;/h1&gt;

&lt;p&gt;I ended up just setting up a quick and easy Ubuntu 16.04 server in Vagrant. I
used the &lt;code&gt;ejabberd&lt;/code&gt; that was in the repo and everything went great.
With some minimal configuration and user adding in the setup script everything
runs very well.&lt;/p&gt;

&lt;h2 id=&#34;here-s-my-vagrantfile&#34;&gt;Here&amp;rsquo;s my &lt;code&gt;Vagrantfile&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Take special note of the forwarded ports. Port 5280 is for the web admin panel,
and port 5222 is the TCP port that ejabberd talks over. There&amp;rsquo;s several
different protocols that you can use, like UDP, based on your own configuration.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure(&amp;quot;2&amp;quot;) do |config|
  config.vm.box = &amp;quot;bento/ubuntu-16.04&amp;quot;

  config.vm.network &amp;quot;forwarded_port&amp;quot;, guest: 5280, host: 5280, host_ip: &amp;quot;127.0.0.1&amp;quot;
  config.vm.network &amp;quot;forwarded_port&amp;quot;, guest: 5222, host: 5222, host_ip: &amp;quot;127.0.0.1&amp;quot;

  config.vm.provider &amp;quot;virtualbox&amp;quot; do |vb|
    vb.memory = &amp;quot;1024&amp;quot;
    vb.cpus = &amp;quot;1&amp;quot;
  end

  config.vm.provision &amp;quot;shell&amp;quot;, path: &amp;quot;setup.sh&amp;quot;
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;here-s-my-setup-sh&#34;&gt;Here&amp;rsquo;s my &lt;code&gt;setup.sh&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Nothing too crazy here. The &lt;code&gt;sed&lt;/code&gt; lines are just modifying some relevant
configs in &lt;code&gt;ejabberd&lt;/code&gt;&amp;rsquo;s config file.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;apt-get update

apt-get install -y ejabberd

# It defaults to IPv6, but I want IPv4 just to keep things simple here.
sed -i &#39;s/    ip: &amp;quot;::&amp;quot;/    ip: &amp;quot;0.0.0.0&amp;quot;/g&#39; /etc/ejabberd/ejabberd.yml

# This is just setting up the admin user.
sed -i &#39;s/         - &amp;quot;&amp;quot;: &amp;quot;localhost&amp;quot;/         - &amp;quot;admin&amp;quot;: &amp;quot;localhost&amp;quot;/&#39; /etc/ejabberd/ejabberd.yml

systemctl restart ejabberd

# I was surprised that the restart took long enough that the ejabberdctl
# commands below were failing.
sleep 5

ejabberdctl register admin localhost password
ejabberdctl register echo_bot localhost password
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;installing-pidgin&#34;&gt;Installing Pidgin&lt;/h1&gt;

&lt;p&gt;Pidgin is a Jabber-compliant Instant Messaging client for Linux, MacOS, and
Windows. They also provide source code. If you&amp;rsquo;re using MacOS, they do suggest
using &lt;a href=&#34;https://adium.io&#34; target=&#34;_blank&#34;&gt;Adium&lt;/a&gt; instead.&lt;/p&gt;

&lt;p&gt;One of the best features of Pidgin (and probably Adium) is that it has an XMPP
Console that you can enable in the Plugins section of the application. That way
you can see all of the XMPP stanzas being passed between the client and server,
and you can even use it to enter raw XMPP stanzas if you so choose. It&amp;rsquo;s
pretty rad.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m on Debian 9, so I just used the one in the repo&amp;rsquo;s.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo apt-get install -y pidgin
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;node-js-echo-bot&#34;&gt;Node.js Echo Bot&lt;/h1&gt;

&lt;p&gt;This simple bot will let you subscribe to its status, and in chat will repeat
everything you say. See the comments for some more details.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// Client is the actual Client class, xml is a convenience function for building
// valid XML.
const { Client, xml } = require(&#39;xmpp.js&#39;);

const client = new Client();

// Node doesn&#39;t like self-signed certificates. You could also pass this as an
// environment variable.
process.env.NODE_TLS_REJECT_UNAUTHORIZED = &#39;0&#39;;

// Here we get into the event-based actions.
// I&#39;m logging everything so that you can see what&#39;s getting passed through at
// each of these stages. It gets pretty interesting and looking at this helped me a
// ton when doing some debugging.
client.on(&#39;error&#39;, err =&amp;gt; console.log(&#39;ERROR:&#39;, err.toString));

client.on(&#39;status&#39;, status =&amp;gt; console.log(&#39;STATUS:&#39;, status));

client.on(&#39;input&#39;, input =&amp;gt; console.log(&#39;INPUT:&#39;, input));

client.on(&#39;output&#39;, output =&amp;gt; console.log(&#39;OUTPUT:&#39;, output));

// Most of the magic happens here. You can set up all your conditions for the
// various XMPP stanzas that you receive. You can be creative with this, for
// instance you could have the bot running on a Raspberry Pi and change
// some status LED&#39;s based on the message.
client.on(&#39;stanza&#39;, stanza =&amp;gt; {
  console.log(&#39;STANZA:&#39;, JSON.stringify(stanza.toJSON()));

  // This acts on requests from other clients to watch the status of this bot
  // so that the other client can see whether or not this bot is online.
  if (stanza.is(&#39;presence&#39;) &amp;amp;&amp;amp; stanza.attrs.type === &#39;subscribe&#39;) {
    client.send(
      xml(&#39;presence&#39;, { to: stanza.attrs.from, type: &#39;subscribed&#39; })
    );
  }

  // This is doing the echoing.
  if (stanza.is(&#39;message&#39;) &amp;amp;&amp;amp; stanza.attrs.from !== client.jid) {
    stanza.children.forEach(child =&amp;gt; {
      if (child.name === &#39;body&#39;) {
        const response = child.children.join(&#39;\n&#39;);
        client.send(
          xml(&#39;message&#39;, { to: stanza.attrs.from, type: &#39;chat&#39; },
            xml(&#39;body&#39;, {}, response)
          )
        );
      }
    });
  }
});

// When the bot comes online it updates its status to let you know that it&#39;s
// ready to talk back to you.
client.on(&#39;online&#39;, jid =&amp;gt; {
  console.log(&#39;ONLINE:&#39;, jid.toString());
  client.send(
    xml(&#39;presence&#39;, {}, 
      xml(&#39;show&#39;, {}, &#39;chat&#39;),
      xml(&#39;status&#39;, {}, &#39;I say everything you do!&#39;),
    )
  );
});

// This is just handling the client authentication.
client.handle(&#39;authenticate&#39;, authenticate =&amp;gt; {
  return authenticate(&#39;echo_bot&#39;, &#39;password&#39;);
});

// This actually launches the server.
client
  .start(&#39;xmpp://localhost:5222&#39;)
  .catch(err =&amp;gt; console.error(&#39;start failed&#39;, err.message));
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;running-it-all&#34;&gt;Running it all&lt;/h1&gt;

&lt;p&gt;To get this whole thing running you need to first launch the vagrant box, then
create a new account in Pidgin for &lt;code&gt;admin@localhost&lt;/code&gt; using the fake &lt;code&gt;password&lt;/code&gt;,
and then launch the Echo Bot (&lt;code&gt;node index.js&lt;/code&gt;). You&amp;rsquo;ll see some console output from the bot
registering with the &lt;code&gt;ejabberd&lt;/code&gt; server, and then it will just wait. Once it&amp;rsquo;s
waiting, you can &amp;ldquo;Add a Buddy&amp;rdquo; in Pidgin, by looking for &lt;code&gt;echo_bot@localhost&lt;/code&gt;.
The Echo Bot will pick that up so that you can then see its status in Pidgin.
Lastly, you can go ahead and open up a chat with your new &lt;code&gt;echo_bot&lt;/code&gt; buddy, and
it will repeat everything back to you.&lt;/p&gt;

&lt;h1 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;This library has a couple of other components as well, but what they do and how
to use them I have no idea because the documentation is basically non-existent.
I&amp;rsquo;ll be sure to update here if/when I get to those other features.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>First Steps With Apache Kafka</title>
      <link>https://ackso.net/post/first-steps-with-apache-kafka/</link>
      <pubDate>Sat, 07 Apr 2018 16:35:17 -0600</pubDate>
      
      <guid>https://ackso.net/post/first-steps-with-apache-kafka/</guid>
      <description>

&lt;p&gt;Apache Kafka is the de-facto streaming platform in use by data engineers right now.
It comes integrated with many of the commercial Hadoop distributions, and is used
extensively at companies that are dealing with event-based data.&lt;/p&gt;

&lt;p&gt;So, here&amp;rsquo;s my first steps at messing around with it.&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#yesterday-2018-04-06&#34;&gt;Yesterday, 2018-04-06&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#last-night-2018-04-06&#34;&gt;Last Night, 2018-04-06&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#today-2018-04-07&#34;&gt;Today, 2018-04-07&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#next&#34;&gt;Next&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;yesterday-2018-04-06&#34;&gt;Yesterday, 2018-04-06&lt;/h1&gt;

&lt;p&gt;I got some good advice from an experienced data engineer about what I needed to get
into my toolset in order to be a strong data engineer.
His advice was to focus on getting a few examples of working with Apache Kafka and
Apache Spark out there.
So I&amp;rsquo;m going to do a few posts as I work through that.&lt;/p&gt;

&lt;h1 id=&#34;last-night-2018-04-06&#34;&gt;Last Night, 2018-04-06&lt;/h1&gt;

&lt;p&gt;I built out a &lt;code&gt;Vagrantfile&lt;/code&gt; that installs and sets up Kafka.
This was just a modification to their &lt;a href=&#34;http://kafka.apache.org/quickstart&#34; target=&#34;_blank&#34;&gt;quickstart&lt;/a&gt;
instructions, and it worked without a hitch.
If you want to check it out you can clone my repo, &lt;code&gt;git checkout&lt;/code&gt; the &lt;code&gt;single-broker&lt;/code&gt;
tag, &lt;code&gt;vagrant up&lt;/code&gt;, login to the machine and pick up with quickstart instructions
for Steps 3-5.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://gitlab.com/jeremy.jackson/kafka-experimenting.git
git checkout single-broker
vagrant up
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And Steps 3-5 can be summarized as:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Do these to get to the right spot for the following commands:
vagrant ssh
cd kafka_2.11-1.1.0

# Step 3:
bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test
bin/kafka-topics.sh --list --zookeeper localhost:2181

# Step 4:
bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test

# At this point you could optionally enter a few messages for the broker to store.

# Step 5 (You should do this in a second terminal since your first one will be waiting for input):
bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning

# You should get output from the previous messages, and any additional messages that you give
# to the broker should appear in the consumer&#39;s terminal in a very short amount of time.
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;today-2018-04-07&#34;&gt;Today, 2018-04-07&lt;/h1&gt;

&lt;p&gt;Today, feeling motivated after last night&amp;rsquo;s success, I decided to start working on
a multi-broker set up, still following the quickstart instructions.&lt;/p&gt;

&lt;p&gt;I added some code to my &lt;code&gt;Vagrantfile&lt;/code&gt; to do some configuration customization of each of the
brokers that would be running, did some troubleshooting on my &lt;code&gt;sed&lt;/code&gt; scripts &amp;amp; skills,
and got that running as well.
Took me a total of about 2 hours because I was being dumb about &lt;code&gt;sed&lt;/code&gt;, taking lots of breaks, etc.&lt;/p&gt;

&lt;p&gt;That is stored at the &lt;code&gt;multi-broker&lt;/code&gt; tag in git.
This one goes a little further than the &lt;code&gt;single-broker&lt;/code&gt; tag does by also creating the topic
as part of the initial scripting.&lt;/p&gt;

&lt;p&gt;You should be able to just SSH into this version of the vagrant box and immediately
start up the console producer and consumer.
Interesting thing to note about this one that isn&amp;rsquo;t mentioned in the quickstart that I wasn&amp;rsquo;t
too surprised worked well is that the producer and consumer don&amp;rsquo;t need to be attached to the
same broker.
If you connect the producer to the broker on port 9092 you can connect your consumer
to the broker on port 9093 or 9094 (or all of them), and it will work fine.
Part of me wants to connect six terminals to producers and consumers for each of these
brokers and just mess around watching the messages propagate.&lt;/p&gt;

&lt;h1 id=&#34;next&#34;&gt;Next&lt;/h1&gt;

&lt;p&gt;Dinner.&lt;/p&gt;

&lt;p&gt;Then I&amp;rsquo;m considering if I want to head up to &lt;a href=&#34;http://www.alleycatcoffeehouse.com/&#34; target=&#34;_blank&#34;&gt;The Alley Cat&lt;/a&gt;
to keep working into the night on kafka.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;d like to get the multi-broker example working in a
&lt;a href=&#34;https://www.vagrantup.com/docs/multi-machine/&#34; target=&#34;_blank&#34;&gt;vagrant multi-machine&lt;/a&gt;
so that each broker is running on one host.
I&amp;rsquo;m not 100% sure how that&amp;rsquo;s going to work out, especially with Zookeeper, since I&amp;rsquo;m
not sure if I&amp;rsquo;ll need to add some zookeeper configuration for multiple hosts.
I might be wanting to take this in a direction that wouldn&amp;rsquo;t quickly accomplish the advice
I was given, so I might jump right into Spark instead.
Maybe I&amp;rsquo;ll spend an hour or two on it, see how far I get and then decide if I want to bail
on that plan to work on Spark instead.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Experimenting With GitLab CI</title>
      <link>https://ackso.net/post/experimenting-with-gitlab-ci/</link>
      <pubDate>Tue, 03 Apr 2018 20:57:42 -0600</pubDate>
      
      <guid>https://ackso.net/post/experimenting-with-gitlab-ci/</guid>
      <description>

&lt;p&gt;So last weekend I really buckled down on a project that I started a couple weeks
ago before I came down with a really bad cold and was laid-up for a couple days.
I was trying to figure out a bunch of different things: how to use Docker in my
web development workflow, how to make use of GitLab CI in that workflow, and
more things in the vein of converting my workflow to be more amenable to Continuous
Integration.
This last weekend was the first in many that I was fully feeling myself, so I
decided to finish that up and really figure out what I was failing to grasp before.&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#what-i-wasn-t-grokking-about-docker&#34;&gt;What I wasn&amp;rsquo;t grokking about Docker.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#what-i-wasn-t-grokking-about-gitlab-ci&#34;&gt;What I wasn&amp;rsquo;t grokking about GitLab CI.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#what-happened-last-weekend&#34;&gt;What happened last weekend.&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#first-steps&#34;&gt;First Steps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#adding-a-database&#34;&gt;Adding a database&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#getting-those-dope-ass-badges&#34;&gt;Getting those dope-ass badges&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#adding-on-code-climate&#34;&gt;Adding on Code Climate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#going-even-further&#34;&gt;Going even further&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#where-to-find-it&#34;&gt;Where to find it.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#what-s-next&#34;&gt;What&amp;rsquo;s next?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;what-i-wasn-t-grokking-about-docker&#34;&gt;What I wasn&amp;rsquo;t grokking about Docker.&lt;/h1&gt;

&lt;p&gt;I&amp;rsquo;m very familiar with setting up Vagrant boxes and using them to prototype my
deployment environments.
I&amp;rsquo;ve even dabbled a little bit into Chef for configuration management, though
I&amp;rsquo;m not totally grokking that either (there may be an upcoming post on Ansible
because I think I might be able to grok that over a couple of weekends).
What I was having trouble with in Docker was how to make all the containers
work together and how they should talk to each other.&lt;/p&gt;

&lt;p&gt;My web development projects thus far have all been small-scale.
Each one can happily reside on a modest server and perform very well, and that
includes the whole OS, webserver, database, and application server.
Because of that, everything is talking to each over &lt;code&gt;localhost&lt;/code&gt;, which makes
networking and most security issues extremely easy to deal with.
However, all of my previous attempts to dockerize even one part of this stack
have totally failed because of networking issues.
I just couldn&amp;rsquo;t figure out how to make my locally-running application talk to
a dockerized database.
Because of those troubles I figured that trying to dockerize each or most of
those pieces would end up totally failling.
I was probably right at the time, but mostly due to my then (and still) very
limited knowledge of container networking and orchestration.&lt;/p&gt;

&lt;h1 id=&#34;what-i-wasn-t-grokking-about-gitlab-ci&#34;&gt;What I wasn&amp;rsquo;t grokking about GitLab CI.&lt;/h1&gt;

&lt;p&gt;I knew at some level that GitLab CI was also using Docker to achieve things,
and because of my previously-mentioned problems in Docker networking and
orchestration and not knowing how to build my applications to work for Dockerized
applications and databases, I just kept failing and failing to get GitLab CI
to work.
This was before I discovered that you could just run arbitrary bash in many of
these containers.&lt;/p&gt;

&lt;h1 id=&#34;what-happened-last-weekend&#34;&gt;What happened last weekend.&lt;/h1&gt;

&lt;p&gt;Last weekend, I decided to fix all of this and I knew that I had to start with
Docker.
I&amp;rsquo;ve been following Docker on Twitter and seeing a lot about &lt;code&gt;docker-compose&lt;/code&gt;.
So I read the &lt;a href=&#34;https://docs.docker.com/compose/gettingstarted/&#34; target=&#34;_blank&#34;&gt;Getting Started guide&lt;/a&gt;
and it immediately seemed to make sense.
I decided to convert the repo I had been working on to use &lt;code&gt;docker-compose&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;first-steps&#34;&gt;First Steps&lt;/h2&gt;

&lt;p&gt;My first step was to just grab a generic ubuntu docker image, run all the commands
to install Node, install my dependencies, and get the Express server running.
I was able to get a minimal example that didn&amp;rsquo;t rely on a database or any other
services running in under an hour, and when I succeeded I was over the moon
with joy.
I also suspected that I may have had enough to make running a minimal test suite
in GitLab CI possible.
So I looked at the documentation for that, watched a couple of webinars put on
by the GitLab sales staff, and immediately saw the similarity between how you
set up &lt;code&gt;docker-compose&lt;/code&gt; and how you set up GitLab CI.
I got GitLab CI running with passing jobs on my next push and got that rush
of joy again.
Why didn&amp;rsquo;t things fall into place like this last time?&lt;/p&gt;

&lt;h2 id=&#34;adding-a-database&#34;&gt;Adding a database&lt;/h2&gt;

&lt;p&gt;I immediately started reading up on services in &lt;code&gt;docker-compose&lt;/code&gt;, again noticing
the similarity to the GitLab CI documentation on how services work.
I was able to get a &lt;code&gt;couchdb:2.1.1&lt;/code&gt; container to talk to my ubuntu container
very quickly, just testing it with &lt;code&gt;curl&lt;/code&gt;, and based on that messing around I
came to the conclusion that I could set up some Express routes to talk to this
datbase.
So I did.&lt;/p&gt;

&lt;p&gt;I wrote tests for it as well, and figured out how I could run arbitrary commands
on my containers so that I could do local runs of my test suite.
This also solved another problem that had been vexxing me for a long time: I no
longer needed to mock a database for my test suite.
I could just set up an empty docker container with my database all set up to use
for testing against, which would be more like real life anyhow.
Sure it would take a little longer to get the containers running than using a
database mocking library, but we&amp;rsquo;re talking about seconds, so it&amp;rsquo;s not really
that big of a deal.&lt;/p&gt;

&lt;p&gt;I also duplicated this service configuration over to my &lt;code&gt;.gitlab-ci.yml&lt;/code&gt; file,
since it had so many similarities to my &lt;code&gt;docker-compose.yml&lt;/code&gt;.
I crossed my fingers, pushed to my repo, and was totally awed when I saw the
correct couchdb image spinning up in the CI job.
I think that particular job failed, but it was probably because of a failing
test rather than the containers not correctly talking to each other.
It was a fixable problem.&lt;/p&gt;

&lt;h2 id=&#34;getting-those-dope-ass-badges&#34;&gt;Getting those dope-ass badges&lt;/h2&gt;

&lt;p&gt;I&amp;rsquo;ve been in awe of badges for build pipelines, code coverage, etc., that I&amp;rsquo;ve
seen on other projects for a couple of years now and I noticed that the project
settings in GitLab had some info on them, so I decided it was time to read up
on that.
I was able to grab the pipeline badge immediately.
The code coverage badge needed a little bit of work though.&lt;/p&gt;

&lt;p&gt;GitLab suggested using &lt;code&gt;tap&lt;/code&gt;.
I was already using &lt;code&gt;mocha&lt;/code&gt; for testing, and didn&amp;rsquo;t really want to switch.
I didn&amp;rsquo;t want to rewrite my tests and I use &lt;code&gt;mocha&lt;/code&gt; at work as well, so I
decided I had to find another way.
I discovered that &lt;code&gt;tap&lt;/code&gt; uses &lt;code&gt;istanbul&lt;/code&gt; via &lt;code&gt;nyc&lt;/code&gt; for code coverage, which
explained the regex that GitLab suggested.
I was able to very quickly get &lt;code&gt;nyc&lt;/code&gt; stuck into my &lt;code&gt;test&lt;/code&gt; npm script, and
with some experimenting with the different reporters, was able to get the
kind of output that would fit the regex GitLab was suggesting for use with
&lt;code&gt;tap&lt;/code&gt; (it&amp;rsquo;s the &lt;code&gt;text-summary&lt;/code&gt; reporter, btw).
A little bit of configuration on the GitLab side later and I had a code
coverage badge gracing my &lt;code&gt;README.md&lt;/code&gt; alongside my &lt;code&gt;build&lt;/code&gt; badge.&lt;/p&gt;

&lt;h2 id=&#34;adding-on-code-climate&#34;&gt;Adding on Code Climate&lt;/h2&gt;

&lt;p&gt;While doing research on code coverage their was also a lot of talk about
Code Climate.
I knew they had their paid tooling, but didn&amp;rsquo;t totally get what was being
done in the GitLab webinars and documentation to make it work.
I also didn&amp;rsquo;t really know how to interpret it (I&amp;rsquo;m still fuzzy on this for
the back end case, but it&amp;rsquo;s clearer for the front end case).
Anyways, not finding any GitLab documentation for how to customize it,
I just copy/pasted GitLab&amp;rsquo;s suggested Code Climate &lt;code&gt;.gitlab-ci.yml&lt;/code&gt; configuration
and it somehow worked in my project.&lt;/p&gt;

&lt;p&gt;Like I mentioned, GitLab&amp;rsquo;s built-in tooling for interpreting the &lt;code&gt;codeclimate.json&lt;/code&gt;
artifact is really great for front end projects, but this being totally a
back end project for the moment, it was just really hard to read and interpret
the JSON.
Maybe that will be corrected in the future.&lt;/p&gt;

&lt;h2 id=&#34;going-even-further&#34;&gt;Going even further&lt;/h2&gt;

&lt;p&gt;I decided that running the full installs of everything each time I had to build
my containers or run my CI jobs was taking way too long, so I thought I should
probably do at least a minimum of research to see if there was a pre-existing
Docker container that could run my application server after only doing an
&lt;code&gt;npm install&lt;/code&gt;.
Lo and behold, three whole minutes of searching yielded the &lt;code&gt;node:8&lt;/code&gt; container.
I implemented that, which made my &lt;code&gt;Dockerfile&lt;/code&gt;, &lt;code&gt;docker-compose.yml&lt;/code&gt;, and
&lt;code&gt;.gitlab-ci.yml&lt;/code&gt; files all smaller, and life immediately got better.&lt;/p&gt;

&lt;h1 id=&#34;where-to-find-it&#34;&gt;Where to find it.&lt;/h1&gt;

&lt;p&gt;The repo is public, as are all of the runs of the pipeline.
I also put a bunch more detail into the &lt;code&gt;README.md&lt;/code&gt;, talking more about the
&amp;ldquo;why&amp;rdquo; of CI, and the instructions for &lt;code&gt;docker-compose&lt;/code&gt; and GitLab CI.
You can find it &lt;a href=&#34;https://gitlab.com/jeremy.jackson/experimenting-with-cicd&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Feel free to clone it, open issues for my abundant and obvious errors,
or even contribute a fix.&lt;/p&gt;

&lt;h1 id=&#34;what-s-next&#34;&gt;What&amp;rsquo;s next?&lt;/h1&gt;

&lt;p&gt;I have three more things I intend to accomplish with this project.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Incorporate a front end that also gets tested, code quality and coverage reports,
and gets built/minified into an artifact.&lt;/li&gt;
&lt;li&gt;Set up a dedicated GitLab CI runner. I&amp;rsquo;m considering a Raspberry Pi for this, though I do
have a couple of older machines that I&amp;rsquo;ve picked up from friends on the cheap that I
could convert for this purpose as well.&lt;/li&gt;
&lt;li&gt;Set up Continuous Deployment. Automating deployment would be tight &amp;ldquo;AEE EFF&amp;rdquo; (as the
kids say).&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Exercises for Programmers 5 - NODEJS</title>
      <link>https://ackso.net/project/exercises-for-programmers-5/</link>
      <pubDate>Sat, 20 Jan 2018 17:18:29 -0700</pubDate>
      
      <guid>https://ackso.net/project/exercises-for-programmers-5/</guid>
      <description>

&lt;p&gt;I had to take a break from working through the book to get a few other &amp;ldquo;life&amp;rdquo; things
done, but with those in the bag I was able to hop back into it today and finish up
Chapter 3.&lt;/p&gt;

&lt;p&gt;After the amount of learning I did with Exercise 10, the remaining three exercises
ended up being really easy and following basically the same pattern in all three
cases.&lt;/p&gt;

&lt;p&gt;Repository for this is still
&lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs&#34; target=&#34;_blank&#34;&gt;on GitHub.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Once again, I&amp;rsquo;m going to leave out the tests from this coverage since it&amp;rsquo;s all
pretty straightforward and follows the same pattern each time.
I was expecting the test file for this chapter to be over 1,000 lines of code, but
somehow it only came out to 990.
It makes me wonder what test cases I overlooked as I was working on these
last three exercises.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m also going to leave out the code implementing the &lt;code&gt;readline&lt;/code&gt; functionality.
Since the introduction of &lt;code&gt;Promise&lt;/code&gt; chaining that I implemented in Exercise 10
I haven&amp;rsquo;t had to do anything new and interesting there either, and once again
it looks like I&amp;rsquo;ve captured a good pattern for how to do that.&lt;/p&gt;

&lt;p&gt;I started on these around 11 this morning.
It&amp;rsquo;s now 5:30 PM and I&amp;rsquo;ve done a lot of driving and walking during that time in
addition to writing code, so I think I&amp;rsquo;ve got a total of maybe 2-3 hours of
actual coding time in today.
So I feel like I made a lot of progress in being able to wrap in the chapter in
a fairly efficient and concise manner.&lt;/p&gt;

&lt;p&gt;I also think I&amp;rsquo;ve found a pretty good function pattern for checking that numeric
inputs are valid.
I should break that out into a utility module so that I stop re-creating it each
time.
That would help cut down on the number of tests I have to write, and also let me
write less code each time I start on a new exercise.
Breaking it out and updating all of the calls could take some time though.
For the moment I&amp;rsquo;m more excited to just plow through the exercises.&lt;/p&gt;

&lt;h1 id=&#34;exercise-11&#34;&gt;Exercise 11&lt;/h1&gt;

&lt;p&gt;This exercise is a Euro to US Dollar currency converter.
I have no idea if the conversion rates are even correct.
I could probably go and find an API to supply this, but researching that could
have taken a bit more time than I was willing to commit to at this point.
Not that it would have been difficult once I found the API.
It would have actually been a good opportunity to do some practice with &lt;code&gt;Stream&lt;/code&gt;.
Maybe I&amp;rsquo;ll consider a refactor of that at some point.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function checkInput(value) {
  if (typeof value !== &#39;string&#39;) {
    throw new Error(&#39;input amount must be delivered as a string&#39;)
  }
  if (Number.isNaN(parseFloat(value)) || /\d+\.\d+\.\d+/.test(value)) {
    throw new Error(&#39;input must be parseable as a number&#39;)
  }
  return true
}

function calculateConversion(amount_from, rate_from, rate_to) {
  if (typeof amount_from !== &#39;number&#39; ||
    typeof rate_from !== &#39;number&#39; ||
    typeof rate_to !== &#39;number&#39;) {
    throw new Error(&#39;all inputs must be numeric&#39;)
  }
  const output = (amount_from * rate_from) / rate_to
  return output.toFixed(2)
}

function buildConversion(amount_from, rate_from) {
  checkInput(amount_from)
  checkInput(rate_from)
  const parsed_from = parseFloat(amount_from)
  const parsed_rate = parseFloat(rate_from)
  const rate_to = 98.24
  const converted_value = calculateConversion(parsed_from, parsed_rate, rate_to)

  return `${amount_from} euros at an exchange rate of ${rate_from} is ${converted_value} US dollars`
}

module.exports = {
  calculateConversion,
  checkInput,
  buildConversion,
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-12&#34;&gt;Exercise 12&lt;/h1&gt;

&lt;p&gt;This one is a basic interest calculator, without doing any compounding.
That made the math super easy.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function simpleInterest(principal, rate, period) {
  const output = principal + (principal * period * rate * 0.01)
  return output.toFixed(2)
}

function checkSIinputs(value) {
  if (typeof value !== &#39;string&#39;) {
    throw new Error(&#39;input amount must be delivered as a string&#39;)
  }
  if (Number.isNaN(parseFloat(value)) || /\d+\.\d+\.\d+/.test(value)) {
    throw new Error(&#39;input must be parseable as a number&#39;)
  }
  return true
}

function buildSIstring(principal, rate, period) {
  checkSIinputs(principal)
  checkSIinputs(rate)
  checkSIinputs(period)

  const parsed_principal = parseFloat(principal)
  const parsed_rate = parseFloat(rate)
  const parsed_period = parseFloat(period)
  const accrued = simpleInterest(parsed_principal, parsed_rate, parsed_period)

  return `After ${period} years at ${rate}%, the investment will be worth $${accrued}.`
}

module.exports = {
  simpleInterest,
  checkSIinputs,
  buildSIstring,
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-13&#34;&gt;Exercise 13&lt;/h1&gt;

&lt;p&gt;This one is for compounding interest.
A little bit more complicated mathematically, but again: not really a problem.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function compound_interest(principal, rate, period, frequency) {
  const exponent = period * frequency
  const small_interest = 1 + ((0.01 * rate) / frequency)
  const output = principal * (small_interest ** exponent)
  return output.toFixed(2)
}

function checkCIinputs(value) {
  if (typeof value !== &#39;string&#39;) {
    throw new Error(&#39;input amount must be delivered as a string&#39;)
  }
  if (Number.isNaN(parseFloat(value)) || /\d+\.\d+\.\d+/.test(value)) {
    throw new Error(&#39;input must be parseable as a number&#39;)
  }
  return true
}

function buildCIstring(principal, rate, period, frequency) {
  checkCIinputs(principal)
  checkCIinputs(rate)
  checkCIinputs(period)
  checkCIinputs(frequency)
  const p_principal = parseFloat(principal)
  const p_rate = parseFloat(rate)
  const p_period = parseFloat(period)
  const p_frequency = parseFloat(frequency)

  const accrued = compound_interest(p_principal, p_rate, p_period, p_frequency)

  return `$${principal} invested at ${rate}% for ${period} years compounded ${frequency} times per year is $${accrued}`
}

module.exports = {
  compound_interest,
  checkCIinputs,
  buildCIstring,
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Refactoring Mock Couch</title>
      <link>https://ackso.net/project/refactoring-mock-couch/</link>
      <pubDate>Sat, 06 Jan 2018 15:48:48 -0700</pubDate>
      
      <guid>https://ackso.net/project/refactoring-mock-couch/</guid>
      <description>

&lt;p&gt;So I&amp;rsquo;m working on a boilerplate and website that relies on an
&lt;a href=&#34;https://couchdb.apache.org&#34; target=&#34;_blank&#34;&gt;Apache CouchDB&lt;/a&gt;
database.
The site boilerplate, site, and database all work pretty well, but I want to use
some CI/CD tools to run testing.&lt;/p&gt;

&lt;p&gt;I have a couple of options open to me such as using configuration management to set
up the whole environment, using Docker for key pieces of the environment, or finding
some libraries that mock some of my required components, like CouchDB.
After looking into what I would have to learn in order to implement each of them, I
ended up deciding that for the near-term just going with mocking libraries would be
the easiest.&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#why-refactor-this-where-did-this-idea-come-from&#34;&gt;Why refactor this? Where did this idea come from?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#error-analysis&#34;&gt;Error Analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#why-not-stop-if-somebody-already-made-a-pull-request-for-your-problem&#34;&gt;Why not stop if somebody already made a Pull Request for your problem?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#abuse-of-ramda-compose&#34;&gt;Abuse of &lt;code&gt;ramda.Compose()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#package-linting&#34;&gt;Package Linting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#things-that-i-m-leaving-alone-for-now&#34;&gt;Things that I&amp;rsquo;m leaving alone&amp;hellip; for now.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#working-on-the-code&#34;&gt;Working on the code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#working-on-the-tests&#34;&gt;Working on the tests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#running-the-tests&#34;&gt;Running the tests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#wrapping-up&#34;&gt;Wrapping up&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;why-refactor-this-where-did-this-idea-come-from&#34;&gt;Why refactor this? Where did this idea come from?&lt;/h1&gt;

&lt;p&gt;Since the site is using &lt;a href=&#34;https://redis.io&#34; target=&#34;_blank&#34;&gt;Redis&lt;/a&gt; for the cookie store, we&amp;rsquo;re using
the excellent &lt;a href=&#34;https://www.npmjs.com/package/redis-mock&#34; target=&#34;_blank&#34;&gt;redis-mock&lt;/a&gt; for that.
Almost entirely based on the hilarious logo for it (not actually true), we quickly
decided on &lt;a href=&#34;https://www.npmjs.com/package/mock-couch&#34; target=&#34;_blank&#34;&gt;mock-couch&lt;/a&gt; to mock our CouchDB.
There was one problem though: the current version of mock-couch doesn&amp;rsquo;t run with NodeJS 8.x.&lt;/p&gt;

&lt;p&gt;So I decided to refactor it in order to bring the packages up-to-date, hopefully
get it working with current versions of NodeJS, and take advantage of newer
language features.&lt;/p&gt;

&lt;p&gt;I forked it a few months ago and have been working on it on-and-off
&lt;a href=&#34;https://github.com/jeremy-j-ackso/mock-couch/tree/update-packages&#34; target=&#34;_blank&#34;&gt;here, under the &lt;code&gt;update-packages&lt;/code&gt; branch.&lt;/a&gt;
After I&amp;rsquo;m done I&amp;rsquo;m going to submit it back to the original author to see if he&amp;rsquo;ll
accept my PR for this.
If he doesn&amp;rsquo;t we&amp;rsquo;ll see where this goes from there.
Maybe I&amp;rsquo;ll continue development as a new package if the merge request is declined?&lt;/p&gt;

&lt;h1 id=&#34;error-analysis&#34;&gt;Error Analysis&lt;/h1&gt;

&lt;p&gt;When I was initally trying to use this package, it always immediately threw a bunch
errors.
I was able to trace the errors back and found an &lt;a href=&#34;https://github.com/chris-l/mock-couch/issues/53&#34; target=&#34;_blank&#34;&gt;open issue&lt;/a&gt;
that was related.
I think that it&amp;rsquo;s mostly being caused by an older version of &lt;a href=&#34;http://restify.com/&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;restify&lt;/code&gt;&lt;/a&gt; and the
&lt;a href=&#34;https://www.npmjs.com/package/spdy&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;spdy&lt;/code&gt;&lt;/a&gt; package that it relies on.
A subsequent commenter on that issue discovered that this problem is found only
with NodeJS &amp;gt; 7.x, so that means my NodeJS 8.x project is impacted.
So far, that commmenter&amp;rsquo;s pull request has not been merged in even though it&amp;rsquo;s a
fairly minor change.&lt;/p&gt;

&lt;h1 id=&#34;why-not-stop-if-somebody-already-made-a-pull-request-for-your-problem&#34;&gt;Why not stop if somebody already made a Pull Request for your problem?&lt;/h1&gt;

&lt;p&gt;Because I think there are some other benefits to a deeper refactor in this case.&lt;/p&gt;

&lt;p&gt;Case in point: the &lt;a href=&#34;http://ramdajs.com/&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;ramda&lt;/code&gt;&lt;/a&gt; package has evolved very much since the version this
was written for and current versions of &lt;code&gt;ramda&lt;/code&gt; actually break this package.
Sure, that older version works, but this package also has reliance on it in ways that don&amp;rsquo;t
simplify the code, and in some cases make it more complex for developers unfamiliar
with &lt;code&gt;ramda&lt;/code&gt;.
In fact, I found that in many cases the vanilla JavaScript solution was easier to
read and understand than the &lt;code&gt;ramda&lt;/code&gt; implementation.
This holds most true for the uses of &lt;code&gt;ramda&lt;/code&gt;&amp;rsquo;s &lt;code&gt;Compose()&lt;/code&gt; function.&lt;/p&gt;

&lt;h1 id=&#34;abuse-of-ramda-compose&#34;&gt;Abuse of &lt;code&gt;ramda.Compose()&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;&lt;code&gt;ramda.Compose()&lt;/code&gt; lets you chain a bunch of function calls together, each one putting
its outputs into the next one&amp;rsquo;s input.
Except it&amp;rsquo;s inverted.
Which isn&amp;rsquo;t intuitive &lt;strong&gt;at all!&lt;/strong&gt;
You end up having to read UP the page in order to understand how the code block flows.&lt;/p&gt;

&lt;p&gt;This might be acceptable if some very complex things were going on, but most of what
was going on could easily be solved with plain &lt;code&gt;Array&lt;/code&gt; methods.&lt;/p&gt;

&lt;h1 id=&#34;package-linting&#34;&gt;Package Linting&lt;/h1&gt;

&lt;p&gt;The package as written uses &lt;code&gt;jslint&lt;/code&gt;, which is great.
However I kind of prefer &lt;code&gt;eslint&lt;/code&gt; and (in my opinion) the better tooling and
configuration that it comes with.
So &lt;code&gt;jslint&lt;/code&gt; has been replaced with &lt;code&gt;eslint&lt;/code&gt;.&lt;/p&gt;

&lt;h1 id=&#34;things-that-i-m-leaving-alone-for-now&#34;&gt;Things that I&amp;rsquo;m leaving alone&amp;hellip; for now.&lt;/h1&gt;

&lt;p&gt;For the moment, this is using &lt;code&gt;jasmine&lt;/code&gt; tests.
I somewhat prefer &lt;code&gt;mocha&lt;/code&gt;, but I want to leave &lt;code&gt;jasmine&lt;/code&gt; in place at least until I&amp;rsquo;m
once again passing all tests after the refactor.
Maybe at that point I&amp;rsquo;ll replace it with &lt;code&gt;mocha&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m also leaving &lt;code&gt;grunt&lt;/code&gt; in place as the task runner.
It isn&amp;rsquo;t a very complex &lt;code&gt;gruntfile&lt;/code&gt; at this point, so it may ultimately not be needed.
I could probably replace grunt with just &lt;code&gt;npm scripts&lt;/code&gt; with how simple they are.&lt;/p&gt;

&lt;h1 id=&#34;working-on-the-code&#34;&gt;Working on the code&lt;/h1&gt;

&lt;p&gt;Since I really wanted this to be totally up-to-date I started off by doing an
&lt;code&gt;npm update&lt;/code&gt;.
This updated all of the packages to their most current versions and this is where I
discovered the breaking changes that more modern versions of &lt;code&gt;ramda&lt;/code&gt; introduce.
I left everything in place as it was for the moment.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;eslint --fix&lt;/code&gt; did a ton of work in whipping all of this code into shape.
After it&amp;rsquo;s initial pass to fix things that are pretty straightforward I then loaded
everything in &lt;code&gt;/lib&lt;/code&gt; into my &lt;code&gt;vim&lt;/code&gt; buffers and started working through the remaining
lint errors.&lt;/p&gt;

&lt;p&gt;As I went along I also tried to update the broken &lt;code&gt;ramda&lt;/code&gt; code, but time after time
I discovered that what was going on in the &lt;code&gt;ramda&lt;/code&gt; calls was pretty basic stuff that
could quite easily be done using vanilla JavaScript, often with &lt;code&gt;Array&lt;/code&gt; methods.
So after replacing a couple of &lt;code&gt;ramda&lt;/code&gt; calls with vanilla equivalents I did a quick
peak at all of the other places using &lt;code&gt;ramda&lt;/code&gt; and discovered that pretty much all of
them were trivial replacements, and there were only a couple of instances where I would
have to go a bit beyond &amp;ldquo;trivial&amp;rdquo; to convert things to vanilla JS.
So I came to the conclusion that &lt;code&gt;ramda&lt;/code&gt; wasn&amp;rsquo;t really needed and removed it from
the package dependencies.&lt;/p&gt;

&lt;p&gt;With that out of the way I continued working through all of the buffered files, fixing
linting errors and replacing now-defunct &lt;code&gt;ramda&lt;/code&gt; calls with vanilla JS.&lt;/p&gt;

&lt;h1 id=&#34;working-on-the-tests&#34;&gt;Working on the tests&lt;/h1&gt;

&lt;p&gt;Once again &lt;code&gt;eslint --fix&lt;/code&gt; was a lifesaver here.
It fixed a bunch of formatting issues in the tests, and the remaining ones were pretty
simple to deal with.
Mostly things like using destructuring, having individual &lt;code&gt;let&lt;/code&gt; and &lt;code&gt;const&lt;/code&gt; assignments
instead of chaining assignments with commas, implementing arrow functions for unnamed
functions, stuff like that.&lt;/p&gt;

&lt;h1 id=&#34;running-the-tests&#34;&gt;Running the tests&lt;/h1&gt;

&lt;p&gt;This is where I&amp;rsquo;m at now.
It isn&amp;rsquo;t as bad as I was thinking it would be.
Roughly 50% of the tests are passing, which means that I probably just made some
goofy errors in a couple of key places as I was converting away from &lt;code&gt;ramda&lt;/code&gt;.
I&amp;rsquo;m about to get into that now.&lt;/p&gt;

&lt;h1 id=&#34;wrapping-up&#34;&gt;Wrapping up&lt;/h1&gt;

&lt;p&gt;Once I finish up getting all of the tests to pass I&amp;rsquo;ll update with a new post,
sumbit the merge request and see where this goes after that.
At the very least I&amp;rsquo;ll be able to make use of it for my purposes, so definitely looking
forward to that.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Exercises for Programmers 4 - NODEJS</title>
      <link>https://ackso.net/project/exercises-for-programmers-4/</link>
      <pubDate>Fri, 05 Jan 2018 21:14:35 -0700</pubDate>
      
      <guid>https://ackso.net/project/exercises-for-programmers-4/</guid>
      <description>

&lt;p&gt;As I mentioned in the previous post, chapter 3 is getting a bit more complex.
I&amp;rsquo;m through Exercise 10, and that one ended up being pretty complex.
I ended up breaking out the functionality as lowly as I reasonably could
just to help control the complexity.
Part of the outcome of that is that I also had to write waaay more tests.
I&amp;rsquo;m right around 750 lines in my chapter 3 test file, and around 225 of those
lines are just for this one exercise.&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#working-up-the-functions-and-tests&#34;&gt;Working up the functions and tests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dealing-with-user-input-and-eliminating-callback-hell&#34;&gt;Dealing with user input and eliminating callback hell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#things-i-would-change-for-the-future&#34;&gt;Things I would change for the future&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#self-checkout-readline&#34;&gt;Self Checkout &lt;code&gt;readline&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#self-checkout-fuctions&#34;&gt;Self Checkout Fuctions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;working-up-the-functions-and-tests&#34;&gt;Working up the functions and tests&lt;/h1&gt;

&lt;p&gt;I ended up writing 7 functions for this exercise just to produce outputs,
most of which are fairly short and highly specific to their purpose.
For instance, rather than calculating a subtotal for an item as &lt;code&gt;price * quantity&lt;/code&gt;
I converted it into a function call that does the math, but also takes care
of decimal precision.
Doing this for as many feature aspects as possible helped me keep my main
function that produces the final output fairly clean.
It also increased testability of each component piece so that I could
more easily test for edge cases.
So even though I ended up writing more tests and test cases, reasoning
about the tests and what the functions were supposed to do became &lt;strong&gt;much,
MUCH&lt;/strong&gt; easier.&lt;/p&gt;

&lt;p&gt;I also decided to break out some additional pieces of functionality that I
could see a lot of people leaving in the main function. One is responsibile for
deciding if a user input is valid.
It performs several tests to either throw one of three errors or return &lt;code&gt;true&lt;/code&gt;.
Breaking this out and calling it as part of the main function let me keep
my &lt;code&gt;readline&lt;/code&gt; functions a bit cleaner and also minimized the complexity of
generating errors from bad inputs.&lt;/p&gt;

&lt;p&gt;The other function that others might have left in is responsible for building
the output string.
It takes numeric values calculated by other functions, sticks them in an array
of template strings, and then returns those strings joined together with
newline &lt;code&gt;\n&lt;/code&gt; characters.&lt;/p&gt;

&lt;h1 id=&#34;dealing-with-user-input-and-eliminating-callback-hell&#34;&gt;Dealing with user input and eliminating callback hell&lt;/h1&gt;

&lt;p&gt;The last big takeaway I got from working through this exercise was in dealing
with user interaction via &lt;code&gt;readline&lt;/code&gt;.
I had mentioned in one of the earlier Exercises for Programmers posts that
I was seeing a very strong possibilty of having to deal with callback hell
in working with &lt;code&gt;readline.question()&lt;/code&gt;.
That hell almost became realized in working on this exercise.
The author has you asking two questions for each of three items: &amp;ldquo;What&amp;rsquo;s the
price?&amp;rdquo; and &amp;ldquo;What&amp;rsquo;s the quantity?&amp;rdquo;
This is an obvious situation where code re-use shows some benefits as well.
So between code re-use and the threat of callback hell I decided to pay
special attention to how this would interact with users and how I could
streamline and simplify my &lt;code&gt;readline&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I considered several different possible courses of action, noting that
&lt;code&gt;readline&lt;/code&gt; produces Streams, but after doing some reading into Streams,
Promises, and Generators (the three most likely places a solution for this
would come from) I settled on Promises as the correct way to handle this.
Since I have two questions, I wrote two functions that each returns
a &lt;code&gt;new Promise()&lt;/code&gt; to ask them.
Since Promises can be chained together using the &lt;code&gt;then()&lt;/code&gt; method, and the
output of each link in the chain is passed to the next &lt;code&gt;then()&lt;/code&gt; call I
conveniently end up with a nice way to build up an Object piece by piece
that can ultimately be passed into my main funciton that I&amp;rsquo;ve already written.&lt;/p&gt;

&lt;p&gt;Each question also has to mention which &amp;ldquo;item number&amp;rdquo; it&amp;rsquo;s asking about.
Since the book&amp;rsquo;s requirements specify that we&amp;rsquo;re only concerned about 3
items, and not a potentially infinite number, I decided that the most prudent
thing to do would be to explicitly chain all 6 questions together.
It also became simpler to just make the &amp;ldquo;item number&amp;rdquo; an argument to
the question functions.
This saved me from having to write code that would analyze the Object
passed into it in order to figure out what &amp;ldquo;item number&amp;rdquo; it would be
asking about.&lt;/p&gt;

&lt;h1 id=&#34;things-i-would-change-for-the-future&#34;&gt;Things I would change for the future&lt;/h1&gt;

&lt;p&gt;I think that how I&amp;rsquo;m dealing with the &lt;code&gt;readline&lt;/code&gt; functionality is really
good, but it could definitely be improved.
I currently don&amp;rsquo;t have anything going on with the &lt;code&gt;reject&lt;/code&gt; statements
in the Promises, mostly because I haven&amp;rsquo;t given much thought about what
it would mean for possible future user input to be rejected.
In this case it may not be necessary.&lt;/p&gt;

&lt;p&gt;I could also do more to clean up the input validation and error generation.
For instance, moving the input validation closer to the &lt;code&gt;readline&lt;/code&gt;
statements would help in generating and recovering from errors earlier.
Currently it only has the possibility of generating errors after it has
already collected all of the information from the user.
I&amp;rsquo;d like to throw the error sooner and also create a way to recover from
those errors and re-ask an errored question with some guidance to the
user about valid inputs.&lt;/p&gt;

&lt;p&gt;Lastly, &lt;code&gt;selfCheckout()&lt;/code&gt; has some ugly spots.
It works, but I wouldn&amp;rsquo;t call it the most well-written and clear function
I&amp;rsquo;ve ever written.
It could use a re-write, which could eventually turn into some of the
functionality built into it being pushed out to other functions.&lt;/p&gt;

&lt;h1 id=&#34;self-checkout-readline&#34;&gt;Self Checkout &lt;code&gt;readline&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;So here&amp;rsquo;s my &lt;code&gt;readline&lt;/code&gt; module that is implemented with Promises so
that we get that nice chaining to forward the data on to subsequent
questions.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;#!/usr/bin/node

const readline = require(&#39;readline&#39;)
const { selfCheckout } = require(&#39;./ex10.js&#39;)

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})

enterPrice({}, 1)
  .then(passedData =&amp;gt; enterQty(passedData, 1))
  .then(passedData =&amp;gt; enterPrice(passedData, 2))
  .then(passedData =&amp;gt; enterQty(passedData, 2))
  .then(passedData =&amp;gt; enterPrice(passedData, 3))
  .then(passedData =&amp;gt; enterQty(passedData, 3))
  .then((passedData) =&amp;gt; {
    const output = selfCheckout(passedData)
    console.log(output)
    rl.close()
  })

function enterPrice(passedData, itemNumber) {
  return new Promise((resolve, reject) =&amp;gt; {
    rl.question(`Enter the price of item ${itemNumber}: `, (price) =&amp;gt; {
      passedData[`item${itemNumber}`] = { price }
      resolve(passedData)
      reject()
    })
  })
}

function enterQty(passedData, itemNumber) {
  return new Promise((resolve, reject) =&amp;gt; {
    rl.question(`Enter the quantity of item ${itemNumber}: `, (qty) =&amp;gt; {
      passedData[`item${itemNumber}`].qty = qty
      resolve(passedData)
      reject()
    })
  })
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;self-checkout-fuctions&#34;&gt;Self Checkout Fuctions&lt;/h1&gt;

&lt;p&gt;Here&amp;rsquo;s all of the functions that do the calculations, validate inputs,
and generate outputs.
&lt;code&gt;selfCheckout()&lt;/code&gt; is the function that brings all of them together and
gets called at the end of the &lt;code&gt;readline&lt;/code&gt; Promise chain.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function itemSubtotal(price, qty) {
  const output = price * qty
  const output_fixed = output.toFixed(2)
  return output_fixed
}

function billSubtotal(subtotals) {
  const output = subtotals.reduce((arr, cv) =&amp;gt; {
    arr += cv
    return arr
  }, 0)
  const output_fixed = output.toFixed(2)
  return output_fixed
}

function tax(subtotal) {
  const taxrate = 0.055
  const output = subtotal * taxrate
  const output_fixed = output.toFixed(2)
  return output_fixed
}

function total(subtotal, tax_val) {
  const output = subtotal + tax_val
  const output_fixed = output.toFixed(2)
  return output_fixed
}

function isStringedNumber(input, type) {
  if (![&#39;money&#39;, &#39;quantity&#39;].includes(type)) {
    throw new Error(&#39;type must be one of [\&#39;money\&#39;, \&#39;quantity\&#39;]&#39;)
  }

  if ((type === &#39;money&#39; &amp;amp;&amp;amp; !/^[0-9]+(\.[0-9]{2})?$/.test(input)) || typeof input !== &#39;string&#39;) {
    throw new Error(&#39;price must be a string digit, either as an integer, or with two decimal places&#39;)
  }

  if ((type === &#39;quantity&#39; &amp;amp;&amp;amp; !/^[0-9]+$/.test(input)) || typeof input !== &#39;string&#39;) {
    throw new Error(&#39;quantity must be a string integer&#39;)
  }

  return true
}

function outputBuilder(subtotal, tax_val, total_val) {
  const output = [
    `Subtotal: $${subtotal}`,
    `Tax: $${tax_val}`,
    `Total: $${total_val}`,
  ]

  return output.join(&#39;\n&#39;)
}

function selfCheckout(input) {
  const input_keys = Object.keys(input)
  input_keys.forEach((key) =&amp;gt; {
    if (![&#39;item1&#39;, &#39;item2&#39;, &#39;item3&#39;].includes(key)) {
      throw new Error(&#39;input must be an object with three properties such that Object.keys(input) === [\&#39;item1\&#39;, \&#39;item2\&#39;, \&#39;item3\&#39;]&#39;)
    }
  })
  if (!input_keys.includes(&#39;item1&#39;) || !input_keys.includes(&#39;item2&#39;) || !input_keys.includes(&#39;item3&#39;)) {
    throw new Error(&#39;input must be an object with three properties such that Object.keys(input) === [\&#39;item1\&#39;, \&#39;item2\&#39;, \&#39;item3\&#39;]&#39;)
  }

  const input_vals = Object.values(input)
  input_vals.forEach((val) =&amp;gt; {
    const val_keys = Object.keys(val)
    val_keys.forEach((key) =&amp;gt; {
      if (![&#39;price&#39;, &#39;qty&#39;].includes(key)) {
        throw new Error(&#39;each item must have a price and qty and no other properties&#39;)
      }
    })
    if (!val_keys.includes(&#39;price&#39;) || !val_keys.includes(&#39;qty&#39;)) {
      throw new Error(&#39;each item must have a price and qty and no other properties&#39;)
    }

    isStringedNumber(val.price, &#39;money&#39;)
    isStringedNumber(val.qty, &#39;quantity&#39;)
  })

  const subtotals = [
    parseFloat(itemSubtotal(parseFloat(input.item1.price), parseFloat(input.item1.qty))),
    parseFloat(itemSubtotal(parseFloat(input.item2.price), parseFloat(input.item2.qty))),
    parseFloat(itemSubtotal(parseFloat(input.item3.price), parseFloat(input.item3.qty))),
  ]

  const billSub = billSubtotal(subtotals)
  const taxes = tax(parseFloat(billSub))
  const billTotal = total(parseFloat(billSub), parseFloat(taxes))

  const output = outputBuilder(billSub, taxes, billTotal)

  return output
}

module.exports = {
  selfCheckout,
  itemSubtotal,
  billSubtotal,
  tax,
  total,
  isStringedNumber,
  outputBuilder,
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Exercises for Programmers 3 - NODEJS</title>
      <link>https://ackso.net/project/exercises-for-programmers-3/</link>
      <pubDate>Thu, 04 Jan 2018 21:41:19 -0700</pubDate>
      
      <guid>https://ackso.net/project/exercises-for-programmers-3/</guid>
      <description>

&lt;p&gt;I&amp;rsquo;m in the midst of working through Chapter 3 of
&lt;a href=&#34;https://pragprog.com/book/bhwb/exercises-for-programmers&#34; target=&#34;_blank&#34;&gt;Exercises for Programmers&lt;/a&gt;
and decided to write an update on my progress because some of these
individual exercises are starting to get a bit long and convoluted,
so I feel like some of them might benefit from being stand-alone posts.
That will certainly be true for Exercise 10, which I finished up last
night, so for this post I&amp;rsquo;m just going to talk about Exercises 7-9.&lt;/p&gt;

&lt;p&gt;Also, &lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs&#34; target=&#34;_blank&#34;&gt;here&amp;rsquo;s my Github repo for this project.&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#background&#34;&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-7-area-of-a-rectangular-room&#34;&gt;Exercise 7 - Area of a Rectangular Room&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-8-pizza-party&#34;&gt;Exercise 8 - Pizza Party&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-9-paint-calculator&#34;&gt;Exercise 9 - Paint Calculator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;background&#34;&gt;Background&lt;/h1&gt;

&lt;p&gt;This chapter is all about calculations.
All of the exercises have you taking some input, doing some calculations,
and then writing the output.
As you might expect you end up getting cozy with your basic 4 functions,
&lt;code&gt;Math&lt;/code&gt; and &lt;code&gt;Number&lt;/code&gt; methods like rounding and defining decimal precision, and validating
that user inputs are parseable digits.
The complexity that is getting introduced in this chapter also really
forces the issue of making sure that you break out your functionality
into smaller component functions, and you can find some rewarding opportunities
for using arguments to slightly modify your function outputs, for instance
when you&amp;rsquo;re converting between imperial and metric units.&lt;/p&gt;

&lt;p&gt;As you might expect, with more component functions comes more tests.
Like I mentioned, last night I got through Exercise 10, and already my test file
for this chapter is around 750 lines long.
I have three more exercises to go for this chapter, so I&amp;rsquo;m figuring it will grow
to be over 1000 lines before this chapter ends.
That being the case, I&amp;rsquo;m not going to post my tests in here because they&amp;rsquo;re
getting to be rather boilerplate-y and I personally wouldn&amp;rsquo;t be interested in scrolling
for ages through similar-looking mocha tests.
However you can definitely go check the tests out
&lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs/blob/master/test/ch3.test.js&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;My scripts that are implementing the &lt;code&gt;readline&lt;/code&gt; functionality for each of the exercises
are also pretty standard for the three exercises here, so I&amp;rsquo;ll just be linking back to
those on Github rather than showing them here.&lt;/p&gt;

&lt;p&gt;The most interesting thing I learned from doing these exercises is that JavaScript
parses &lt;a href=&#34;https://semver.org/&#34; target=&#34;_blank&#34;&gt;semantic versioning numbers&lt;/a&gt; as Floats (or Integers)
of the Major version, the first dot as the decimal point, and the Minor version.
It ignores the second dot and the Patch version.
This means that:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;parseFloat(&#39;1.2.3&#39;) // returns 1.2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I had to write tests for this and that also inspired some of my later usage of regular
expressions to validate proper numeric input provided as strings.
That&amp;rsquo;s also something I&amp;rsquo;m going to have to refactor for if I ever go back and do that.
The only reason I discovered this is that when I was writing up my tests I realized
that it should cause the functions to throw an error and I had no idea if it would
or not.&lt;/p&gt;

&lt;p&gt;This was just something that popped into my head and I&amp;rsquo;m glad I wrote that test because
JavaScript is perfectly happy to pretend that these are numbers and will do its
best to accomodate them as such.&lt;/p&gt;

&lt;p&gt;I also tested this in Python and R, and both of them generated errors when attempting
to convert the semver string to some type of numeric, which is what I would have
expected from JavaScript as well.&lt;/p&gt;

&lt;h1 id=&#34;exercise-7-area-of-a-rectangular-room&#34;&gt;Exercise 7 - Area of a Rectangular Room&lt;/h1&gt;

&lt;p&gt;The most fancy thing here is the use of the &lt;code&gt;*=&lt;/code&gt; infix operator to convert
from imperial to metric in the case that the &lt;code&gt;units&lt;/code&gt; required is metric.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs/blob/master/ch3/area-of-rectangle-room.js&#34; target=&#34;_blank&#34;&gt;Here&amp;rsquo;s the &lt;code&gt;readline&lt;/code&gt; function calling it.&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/* eslint comma-dangle: &amp;quot;off&amp;quot;, comma-spacing: &amp;quot;off&amp;quot; */

function sqft(length, width) {
  const invalids = [null, undefined,]
  if (invalids.includes(length) || invalids.includes(width)) {
    throw new Error(&#39;inputs must not be null or undefined&#39;)
  }

  if (!parseFloat(length) || !parseFloat(width)) {
    throw new Error(&#39;length and width must be digits&#39;)
  }

  return `${areaOfRectangle(length, width, &#39;feet&#39;)} square feet`
}

function sqmeters(length, width) {
  const invalids = [null, undefined,]
  if (invalids.includes(length) || invalids.includes(width)) {
    throw new Error(&#39;inputs must not be null or undefined&#39;)
  }

  if (!parseFloat(length) || !parseFloat(width)) {
    throw new Error(&#39;length and width must be digits&#39;)
  }

  return `${areaOfRectangle(length, width, &#39;meters&#39;)} square meters`
}

function dimensions(length, width) {
  const invalids = [null, undefined,]
  if (invalids.includes(length) || invalids.includes(width)) {
    throw new Error(&#39;inputs must not be null or undefined&#39;)
  }

  if (!parseFloat(length) || !parseFloat(width)) {
    throw new Error(&#39;length and width must be digits&#39;)
  }

  return `You entered dimensions of ${length} feet by ${width} feet.`
}

function areaOfRectangle(length, width, unit) {
  const invalids = [null, undefined,]
  if (invalids.includes(length) || invalids.includes(width) || invalids.includes(unit)) {
    throw new Error(&#39;inputs must not be null or undefined&#39;)
  }

  if (![&#39;feet&#39;, &#39;meters&#39;].includes(unit)) {
    throw new Error(&#39;units must be either \&#39;feet\&#39; or \&#39;meters\&#39;&#39;)
  }

  if (!parseFloat(length) || !parseFloat(width)) {
    throw new Error(&#39;length and width must be digits&#39;)
  }

  let area = length * width
  if (unit === &#39;meters&#39;) area *= 0.09290304
  return area.toFixed(3)
}

module.exports = {
  dimensions,
  sqft,
  sqmeters,
  areaOfRectangle,
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-8-pizza-party&#34;&gt;Exercise 8 - Pizza Party&lt;/h1&gt;

&lt;p&gt;This one has you doing both integer division and grabbing remainders!
I also like that I had to write the &lt;code&gt;pluralizer()&lt;/code&gt; function to correctly
decide what word to use based on the number values.
Also, &lt;code&gt;aboutTheParty()&lt;/code&gt; has some extreme string templating going on.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs/blob/master/ch3/pizza-party.js&#34; target=&#34;_blank&#34;&gt;Here&amp;rsquo;s the &lt;code&gt;readline&lt;/code&gt; function calling it.&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function remainingPieces(people, pizzas, pieces) {
  if (typeof people !== &#39;string&#39; || typeof pizzas !== &#39;string&#39; || typeof pieces !== &#39;string&#39;) {
    throw new Error(&#39;arguments to this function must be provided as strings&#39;)
  }

  if (!Number.isInteger(parseFloat(people)) ||
    !Number.isInteger(parseFloat(pizzas)) ||
    !Number.isInteger(parseFloat(pieces))) {
    throw new Error(&#39;arguments must be parseable integer digits&#39;)
  }

  const total_pieces = pizzas * pieces
  const pieces_remain = total_pieces % people
  if (pieces_remain === 1) {
    return `There is ${pieces_remain} leftover piece.`
  }
  return `There are ${pieces_remain} leftover pieces.`
}

function piecesPerPerson(people, pizzas, pieces) {
  if (typeof people !== &#39;string&#39; || typeof pizzas !== &#39;string&#39; || typeof pieces !== &#39;string&#39;) {
    throw new Error(&#39;arguments to this function must be provided as strings&#39;)
  }

  if (!Number.isInteger(parseFloat(people)) ||
    !Number.isInteger(parseFloat(pizzas)) ||
    !Number.isInteger(parseFloat(pieces))) {
    throw new Error(&#39;arguments must be parseable integer digits&#39;)
  }

  const total_pieces = pizzas * pieces
  const pieces_each = Math.floor(total_pieces / people)
  return `Each person gets ${pieces_each} pieces of pizza.`
}

function aboutTheParty(people, pizzas, pieces) {
  if (typeof people !== &#39;string&#39; || typeof pizzas !== &#39;string&#39; || typeof pieces !== &#39;string&#39;) {
    throw new Error(&#39;arguments to this function must be provided as strings&#39;)
  }

  if (!Number.isInteger(parseFloat(people)) ||
    !Number.isInteger(parseFloat(pizzas)) ||
    !Number.isInteger(parseFloat(pieces))) {
    throw new Error(&#39;arguments must be parseable integer digits&#39;)
  }

  return `${people} ${pluralizer(&#39;people&#39;, people)} with ${pizzas} ${pluralizer(&#39;pizzas&#39;, pizzas)}, each pizza having ${pieces} ${pluralizer(&#39;pieces&#39;, pieces)}`
}

function pluralizer(type, val) {
  const plurals = {
    people: [&#39;person&#39;, &#39;people&#39;],
    pizzas: [&#39;pizza&#39;, &#39;pizzas&#39;],
    pieces: [&#39;piece&#39;, &#39;pieces&#39;],
  }

  if (!Object.keys(plurals).includes(type)) {
    throw new Error(&#39;type must be one of [\&#39;person\&#39;, \&#39;pizzas\&#39;, \&#39;pieces\&#39;]&#39;)
  }

  if (typeof val !== &#39;string&#39; || !Number.isInteger(parseFloat(val))) {
    throw new Error(&#39;val must be a parseable integer digit supplied as a string&#39;)
  }

  let lookup_val = val - 1
  if (lookup_val &amp;gt; 1) lookup_val = 1
  return plurals[type][lookup_val]
}

module.exports = {
  remainingPieces,
  piecesPerPerson,
  aboutTheParty,
  pluralizer,
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-9-paint-calculator&#34;&gt;Exercise 9 - Paint Calculator&lt;/h1&gt;

&lt;p&gt;This is another &amp;ldquo;area of a rectangle&amp;rdquo; calculator since it&amp;rsquo;s just focused on the
ceiling of a room.
It does impose some nice rounding requirements though.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs/blob/master/ch3/paintCalc.js&#34; target=&#34;_blank&#34;&gt;Here&amp;rsquo;s the &lt;code&gt;readline&lt;/code&gt; function calling it.&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function paintCalculator(length, width) {
  if (!/^[0-9]+\.?[0-9]*$/.test(length) || typeof length !== &#39;string&#39;) {
    throw new Error(&#39;length must be a parseable number provided as a string&#39;)
  }

  if (!/^[0-9]+\.?[0-9]*$/.test(width) || typeof width !== &#39;string&#39;) {
    throw new Error(&#39;width must be a parseable number provided as a string&#39;)
  }

  const galPerSqFt = 1 / 350
  const sqft_num = dimensions_paint(length, width)

  return Math.ceil(sqft_num * galPerSqFt)
}

function dimensions_paint(length, width) {
  if (!/^[0-9]+\.?[0-9]*$/.test(length) || typeof length !== &#39;string&#39;) {
    throw new Error(&#39;length must be a parseable number provided as a string&#39;)
  }

  if (!/^[0-9]+\.?[0-9]*$/.test(width) || typeof width !== &#39;string&#39;) {
    throw new Error(&#39;width must be a parseable number provided as a string&#39;)
  }

  const length_num = parseFloat(length)
  const width_num = parseFloat(width)
  return length_num * width_num
}

module.exports = {
  paintCalculator,
  dimensions_paint,
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Exercises for Programmers 2 - NODEJS</title>
      <link>https://ackso.net/project/exercises-for-programmers-2/</link>
      <pubDate>Sat, 23 Dec 2017 09:40:33 -0700</pubDate>
      
      <guid>https://ackso.net/project/exercises-for-programmers-2/</guid>
      <description>

&lt;p&gt;It took a couple days (because I was doing them in bed before going to sleep),
but I just finished up Chapter 2 of
&lt;a href=&#34;https://pragprog.com/book/bhwb/exercises-for-programmers&#34; target=&#34;_blank&#34;&gt;Exercises for Programmers&lt;/a&gt;.&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#background-and-thinking&#34;&gt;Background and Thinking&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#package-json&#34;&gt;&lt;code&gt;package.json&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tests&#34;&gt;Tests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-1&#34;&gt;Exercise 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-2&#34;&gt;Exercise 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-3&#34;&gt;Exercise 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-4&#34;&gt;Exercise 4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-5&#34;&gt;Exercise 5&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercise-6&#34;&gt;Exercise 6&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;background-and-thinking&#34;&gt;Background and Thinking&lt;/h1&gt;

&lt;p&gt;This chapter is where you actually start in on working on the advertised &amp;ldquo;57 exercises&amp;rdquo;.
It really does want you to be able to run these exercises as stand-alone command-line
programs (and challenges you to also implement in them in various ways, such as with a GUI),
so I decided to yield and get in on Node&amp;rsquo;s &lt;code&gt;readline&lt;/code&gt; package.
&lt;code&gt;readline&lt;/code&gt; is stream-based, so you have a couple of options in how you get it working.
I opted for the callback-style rather than using &lt;code&gt;pipe&lt;/code&gt;, but if I ever go back and refactor
this stuff I&amp;rsquo;ll be implementing &lt;code&gt;pipe&lt;/code&gt; so that the code can be cleaner.&lt;/p&gt;

&lt;p&gt;In order to make testing easier I broke each exercise down into two pieces: a function that
takes the inputs and produces the desired outputs, and a script that implements &lt;code&gt;readlines&lt;/code&gt;
to ask the user questions, calls the aforementioned function, and then &lt;code&gt;console.log()&lt;/code&gt;s the
output.&lt;/p&gt;

&lt;p&gt;I also made a single test file for the whole chapter to keep all these exercises together.
I&amp;rsquo;m still only testing the functions themselves, but I&amp;rsquo;m investigating methods for testing
the &lt;code&gt;readline&lt;/code&gt; scripts as well so that I can also test the interactions between the functions
and their calling scripts.
So far I&amp;rsquo;ve only found a couple of blog posts that explain how to do it, but the methods
being implemented seem to all be pretty verbose and require some finnagling and/or refactoring
the &lt;code&gt;readline&lt;/code&gt; into a &lt;code&gt;Promise&lt;/code&gt;.
I&amp;rsquo;ll probably look into how different packages that provide cli interactivity do this, like
&lt;code&gt;eslint&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;While reading up on &lt;code&gt;readline&lt;/code&gt; I also found out about &lt;code&gt;npm link&lt;/code&gt;, and I&amp;rsquo;m really excited for it.
&lt;code&gt;npm link&lt;/code&gt; looks for the &lt;code&gt;bin&lt;/code&gt; object in your &lt;code&gt;package.json&lt;/code&gt; and then creates a symlink from
&lt;code&gt;/usr/bin/&amp;lt;key&amp;gt;&lt;/code&gt; to &lt;code&gt;~/mydir/&amp;lt;value&amp;gt;.js&lt;/code&gt;.
That way you can have your Node scripts run as if they were actual command line programs
that can be called by name rather than by running &lt;code&gt;node &amp;lt;file&amp;gt;.js --arguments ...&lt;/code&gt;.
One thing to keep in mind is that &lt;code&gt;npm link&lt;/code&gt; may break your legitimate functions in &lt;code&gt;/usr/bin&lt;/code&gt;
by creating that symlink.
To avoid that, I added &lt;code&gt;-js&lt;/code&gt; to the end of each of my keys in the &lt;code&gt;bin&lt;/code&gt; object so that it
would never conflict with or break things.
This was the thing I was definitely most excited about learning during this whole chapter.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs&#34; target=&#34;_blank&#34;&gt;My repo&lt;/a&gt; for this
continues to grow. I think I&amp;rsquo;m going to skip branching on this until I start going back for
refactors.&lt;/p&gt;

&lt;h1 id=&#34;package-json&#34;&gt;&lt;code&gt;package.json&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;I&amp;rsquo;m just going to drop in my &lt;code&gt;bin&lt;/code&gt; object to keep things short(er).&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;&amp;quot;bin&amp;quot;: {
  &amp;quot;hello-js&amp;quot;: &amp;quot;./ch2/hello.js&amp;quot;,
  &amp;quot;countChars-js&amp;quot;: &amp;quot;./ch2/countChars.js&amp;quot;,
  &amp;quot;quote-js&amp;quot;: &amp;quot;./ch2/quote.js&amp;quot;,
  &amp;quot;madlib-js&amp;quot;: &amp;quot;./ch2/madlib.js&amp;quot;,
  &amp;quot;simplemath-js&amp;quot;: &amp;quot;./ch2/simplemath.js&amp;quot;,
  &amp;quot;retirement-js&amp;quot;: &amp;quot;./ch2/retirement.js&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;tests&#34;&gt;Tests&lt;/h1&gt;

&lt;p&gt;As I mentioned, I dropped everything from this chapter into a single test file so that they
would be grouped together in my mocha output.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/* eslint no-undef: &amp;quot;off&amp;quot;, no-sparse-arrays: &amp;quot;off&amp;quot;, comma-spacing: &amp;quot;off&amp;quot;, comma-dangle: &amp;quot;off&amp;quot; */

const expect = require(&#39;expect.js&#39;)

const hellof = require(&#39;../ch2/ex1.js&#39;)
const countChars = require(&#39;../ch2/ex2.js&#39;)
const quote = require(&#39;../ch2/ex3.js&#39;)
const madlib = require(&#39;../ch2/ex4.js&#39;)
const simplemath = require(&#39;../ch2/ex5.js&#39;)
const retirement = require(&#39;../ch2/ex6.js&#39;)

describe(&#39;ch2&#39;, () =&amp;gt; {
  describe(&#39;ex1.js&#39;, () =&amp;gt; {
    it(&#39;should return values equal to reference.&#39;, () =&amp;gt; {
      const ref_test = [
        { args: &#39;Jeremy&#39;, expect: &#39;Hello, Jeremy, nice to meet you!&#39; },
        { args: &#39;Sue&#39;, expect: &#39;Hello, Sue, nice to meet you!&#39; },
        { args: &#39;Bob&#39;, expect: &#39;Hello, Bob, nice to meet you!&#39; },
        { args: &#39;Ana&#39;, expect: &#39;Hello, Ana, nice to meet you!&#39; },
        { args: &#39;Tom&#39;, expect: &#39;Hello, Tom, nice to meet you!&#39; },
        { args: &#39;5&#39;, expect: &#39;Hello, 5, nice to meet you!&#39; },
      ]
      ref_test.forEach((test) =&amp;gt; {
        expect(hellof(test.args)).to.eql(test.expect)
      })
    })

    it(&#39;should throw an error if not given a string&#39;, () =&amp;gt; {
      const err_test = [
        { args: undefined },
        { args: null },
        { args: 5 },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(hellof).withArgs(test.args).to.throwError(&#39;name should be a string&#39;)
      })
    })
  })

  describe(&#39;ex2.js&#39;, () =&amp;gt; {
    it(&#39;should return values equal to reference&#39;, () =&amp;gt; {
      const ref_test = [
        { args: &#39;Jeremy&#39;, expect: 6 },
        { args: &#39;bob&#39;, expect: 3 },
        { args: &#39;eleventy-one&#39;, expect: 12 },
      ]
      ref_test.forEach((test) =&amp;gt; {
        expect(countChars(test.args)).to.equal(test.expect)
      })
    })

    it(&#39;should throw an error if not given a string&#39;, () =&amp;gt; {
      const err_test = [
        { args: undefined },
        { args: null },
        { args: 5 },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(countChars).withArgs(test.args).to.throwError(&#39;inputString should be a string&#39;)
      })
    })
  })

  describe(&#39;ex3.js&#39;, () =&amp;gt; {
    it(&#39;should return values equal to reference&#39;, () =&amp;gt; {
      const ref_test = [
        { args: [&#39;bob&#39;, &#39;Hi.&#39;], expect: &#39;bob says, &amp;quot;Hi.&amp;quot;&#39; },
        { args: [&#39;Joe&#39;, &#39;Hello.&#39;], expect: &#39;Joe says, &amp;quot;Hello.&amp;quot;&#39; },
        { args: [&#39;R2D2&#39;, &#39;beep-bloop&#39;], expect: &#39;R2D2 says, &amp;quot;beep-bloop&amp;quot;&#39; },
      ]
      ref_test.forEach((test) =&amp;gt; {
        expect(quote(test.args[0], test.args[1])).to.equal(test.expect)
      })
    })

    it(&#39;should throw an error if an argument is empty, undefined, or null&#39;, () =&amp;gt; {
      const err_test = [
        { args: [,] },
        { args: [, &#39;hi&#39;] },
        { args: [&#39;hi&#39;,] },
        { args: [null, null] },
        { args: [null, &#39;hi&#39;] },
        { args: [&#39;hi&#39;, null] },
        { args: [undefined, undefined] },
        { args: [undefined, &#39;hi&#39;] },
        { args: [&#39;hi&#39;, undefined] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(quote).withArgs(test.args[0], test.args[1]).to.throwError(&#39;all arguments must be strings&#39;)
      })
    })

    it(&#39;should throw an error if an argument is not a string&#39;, () =&amp;gt; {
      const err_test = [
        { args: [1, &#39;hi&#39;] },
        { args: [&#39;hi&#39;, 1] },
        { args: [1, 1] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(quote).withArgs(test.args[0], test.args[1]).to.throwError(&#39;all arguments must be strings&#39;)
      })
    })
  })

  describe(&#39;ex4.js&#39;, () =&amp;gt; {
    it(&#39;should return values equal to reference&#39;, () =&amp;gt; {
      const ref_test = [
        { args: [&#39;dog&#39;, &#39;walk&#39;, &#39;blue&#39;, &#39;quickly&#39;], expect: &#39;Do you walk your blue dog quickly? That\&#39;s hilarious!&#39; },
        { args: [&#39;cat&#39;, &#39;jump&#39;, &#39;lithe&#39;, &#39;anxiously&#39;], expect: &#39;Do you jump your lithe cat anxiously? That\&#39;s hilarious!&#39; },
        { args: [&#39;noun&#39;, &#39;verb&#39;, &#39;adjective&#39;, &#39;adverb&#39;], expect: &#39;Do you verb your adjective noun adverb? That\&#39;s hilarious!&#39; },
      ]
      ref_test.forEach((test) =&amp;gt; {
        expect(madlib(test.args[0], test.args[1], test.args[2], test.args[3])).to.equal(test.expect)
      })
    })

    it(&#39;should throw an error if an argument is empty, undefined, or null&#39;, () =&amp;gt; {
      const err_test = [
        { args: [,,,] },
        { args: [, &#39;hi&#39;,,] },
        { args: [&#39;hi&#39;,,,] },
        { args: [null, null, null, null] },
        { args: [null, &#39;hi&#39;, null, null] },
        { args: [&#39;hi&#39;, null, null, null] },
        { args: [undefined, undefined, undefined, undefined] },
        { args: [undefined, &#39;hi&#39;, undefined, undefined] },
        { args: [&#39;hi&#39;, undefined, undefined, undefined] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(madlib).withArgs(test.args[0], test.args[1], test.args[2], test.args[3]).to.throwError(&#39;all arguments must be strings&#39;)
      })
    })

    it(&#39;should throw an error if an argument is not a string&#39;, () =&amp;gt; {
      const err_test = [
        { args: [1, &#39;hi&#39;, &#39;hi&#39;, &#39;hi&#39;] },
        { args: [&#39;hi&#39;, 1, &#39;hi&#39;, &#39;hi&#39;] },
        { args: [1, 1, 1, 1] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(madlib).withArgs(test.args[0], test.args[1]).to.throwError(&#39;all arguments must be strings&#39;)
      })
    })
  })

  describe(&#39;ex5.js&#39;, () =&amp;gt; {
    it(&#39;should return values equal to reference&#39;, () =&amp;gt; {
      const ref_test = [
        { args: [&#39;1&#39;, &#39;2&#39;], expect: &#39;1 + 2 = 3\n1 - 2 = -1\n1 * 2 = 2\n1 / 2 = 0.5&#39; },
        { args: [&#39;8&#39;, &#39;3&#39;], expect: &#39;8 + 3 = 11\n8 - 3 = 5\n8 * 3 = 24\n8 / 3 = 2.67&#39; },
        { args: [&#39;19&#39;, &#39;1&#39;], expect: &#39;19 + 1 = 20\n19 - 1 = 18\n19 * 1 = 19\n19 / 1 = 19&#39; },
      ]
      ref_test.forEach((test) =&amp;gt; {
        expect(simplemath(test.args[0], test.args[1])).to.equal(test.expect)
      })
    })

    it(&#39;should throw an error if the string input cannot be coerced to a number&#39;, () =&amp;gt; {
      const err_test = [
        { args: [&#39;one&#39;, &#39;1&#39;] },
        { args: [&#39;1&#39;, &#39;one&#39;] },
        { args: [&#39;one&#39;, &#39;one&#39;] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(simplemath).withArgs(test.args[0], test.args[1]).to.throwError(&#39;inputs must be digits&#39;)
      })
    })

    it(&#39;should throw an error if the input is actually a number and not a string&#39;, () =&amp;gt; {
      const err_test = [
        { args: [1, 1] },
        { args: [&#39;one&#39;, 1] },
        { args: [1, &#39;one&#39;] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(simplemath).withArgs(test.args[0], test.args[1]).to.throwError(&#39;inputs must be digits&#39;)
      })
    })

    it(&#39;should throw an error if inputs are null or undefined&#39;, () =&amp;gt; {
      const err_test = [
        { args: [,] },
        { args: [undefined,] },
        { args: [, undefined] },
        { args: [undefined, undefined] },
        { args: [null,] },
        { args: [, null] },
        { args: [null, null] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(simplemath).withArgs(test.args[0], test.args[1]).to.throwError(&#39;inputs must be digits&#39;)
      })
    })
  })

  describe(&#39;ex6.js&#39;, () =&amp;gt; {
    it(&#39;should return values equal to reference&#39;, () =&amp;gt; {
      const ref_test = [
        { args: [&#39;20&#39;, &#39;40&#39;], expect: &#39;You have 20 years left until you can retire.\nIt\&#39;s 2017, so you can retire in 2037.&#39; },
        { args: [&#39;20&#39;, &#39;60&#39;], expect: &#39;You have 40 years left until you can retire.\nIt\&#39;s 2017, so you can retire in 2057.&#39; },
      ]
      ref_test.forEach((test) =&amp;gt; {
        expect(retirement(test.args[0], test.args[1])).to.equal(test.expect)
      })
    })

    it(&#39;should throw an error if the input is actually a number and not a string&#39;, () =&amp;gt; {
      const err_test = [
        { args: [1, 1] },
        { args: [&#39;one&#39;, 1] },
        { args: [1, &#39;one&#39;] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(simplemath).withArgs(test.args[0], test.args[1]).to.throwError(&#39;inputs must be digits&#39;)
      })
    })

    it(&#39;should throw an error if inputs are null or undefined&#39;, () =&amp;gt; {
      const err_test = [
        { args: [,] },
        { args: [undefined,] },
        { args: [, undefined] },
        { args: [undefined, undefined] },
        { args: [null,] },
        { args: [, null] },
        { args: [null, null] },
      ]
      err_test.forEach((test) =&amp;gt; {
        expect(simplemath).withArgs(test.args[0], test.args[1]).to.throwError(&#39;inputs must be digits&#39;)
      })
    })
  })
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-1&#34;&gt;Exercise 1&lt;/h1&gt;

&lt;p&gt;Exercise 1 was just a simple &amp;ldquo;Hello Bob!&amp;rdquo; kind of thing.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s &lt;code&gt;ex1.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function hello(name) {
  if (typeof name !== &#39;string&#39;) throw new Error(&#39;name should be a string&#39;)
  return `Hello, ${name}, nice to meet you!`
}

module.exports = hello
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here&amp;rsquo;s it&amp;rsquo;s calling script, &lt;code&gt;hello.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;#!/usr/bin/node

const readline = require(&#39;readline&#39;)
const hellof = require(&#39;./ex1.js&#39;)

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})

rl.question(&#39;What is your name? &#39;, (name) =&amp;gt; {
  const response = hellof(name)
  console.log(response)
  rl.close()
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-2&#34;&gt;Exercise 2&lt;/h1&gt;

&lt;p&gt;Exercise 2 outputs the number of characters in a string.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s &lt;code&gt;ex2.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function countChars(inputString) {
  if (typeof inputString !== &#39;string&#39;) throw new Error(&#39;inputString should be a string&#39;)
  const chars = inputString.length
  return chars
}

module.exports = countChars
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here&amp;rsquo;s it&amp;rsquo;s calling script, &lt;code&gt;countChars.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;#!/usr/bin/node

const readline = require(&#39;readline&#39;)
const countChars = require(&#39;./ex2.js&#39;)

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})

rl.question(&#39;What is the input string? &#39;, (inputString) =&amp;gt; {
  const response = countChars(inputString)
  console.log(`${inputString}: ${response}`)
  rl.close()
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-3&#34;&gt;Exercise 3&lt;/h1&gt;

&lt;p&gt;This exercise asks two questions, which is where taking advantage of &lt;code&gt;pipe&lt;/code&gt; with these
streams starts to show its usefulness. You give it a quote and who said it, and
it puts them together in a single string.&lt;/p&gt;

&lt;p&gt;Here &lt;code&gt;ex3.js&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/* eslint prefer-template: &amp;quot;off&amp;quot; */

// prefer-template is switched off because the book says to use concatenation.

function quote(author, qte) {
  if (typeof author !== &#39;string&#39;) throw new Error(&#39;all arguments must be strings&#39;)
  if (typeof qte !== &#39;string&#39;) throw new Error(&#39;all arguments must be strings&#39;)
  return author + &#39; says, &amp;quot;&#39; + qte + &#39;&amp;quot;&#39;
}

module.exports = quote
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here&amp;rsquo;s its calling script, &lt;code&gt;quote.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;#!/usr/bin/node

const readline = require(&#39;readline&#39;)
const quote = require(&#39;./ex3.js&#39;)

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})

rl.question(&#39;What is the quote? &#39;, (inputQuote) =&amp;gt; {
  rl.question(&#39;Who said it? &#39;, (inputSpeaker) =&amp;gt; {
    const response = quote(inputSpeaker, inputQuote)
    console.log(response)
    rl.close()
  })
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-4&#34;&gt;Exercise 4&lt;/h1&gt;

&lt;p&gt;This exercise does a basic madlibs-style of string creation. With 4 inputs, I&amp;rsquo;m definitely
seeing callback hell start to creep into the &lt;code&gt;readline&lt;/code&gt; block.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s &lt;code&gt;ex4.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function madlib(noun, verb, adjective, adverb) {
  if (typeof noun !== &#39;string&#39; || typeof verb !== &#39;string&#39; ||
    typeof adjective !== &#39;string&#39; || typeof adverb !== &#39;string&#39;) {
    throw new Error(&#39;all arguments must be strings&#39;)
  }
  return `Do you ${verb} your ${adjective} ${noun} ${adverb}? That&#39;s hilarious!`
}

module.exports = madlib
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here&amp;rsquo;s its calling script &lt;code&gt;madlib.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;#!/usr/bin/node

const readline = require(&#39;readline&#39;)
const madlib = require(&#39;../ch2/ex4.js&#39;)


const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})

let builder = {}
rl.question(&#39;Enter a noun: &#39;, (noun) =&amp;gt; {
  builder.noun = noun
  rl.question(&#39;Enter a verb: &#39;, (verb) =&amp;gt; {
    builder.verb = verb
    rl.question(&#39;Enter an adjective: &#39;, (adjective) =&amp;gt; {
      builder.adjective = adjective
      rl.question(&#39;Enter an adverb: &#39;, (adverb) =&amp;gt; {
        builder.adverb = adverb
        console.log(madlib(builder.noun, builder.verb, builder.adjective, builder.adverb))
        rl.close()
      })
    })
  })
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-5&#34;&gt;Exercise 5&lt;/h1&gt;

&lt;p&gt;This one does the basic four arithmetic functions on two input numbers.
I can probably refactor how I&amp;rsquo;m producing the output string to be a bit more elegant and shorter
(I&amp;rsquo;m thinking string concatenation with array destructuring), but this is fine for a
first stab at it.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s &lt;code&gt;ex5.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/* eslint no-restricted-globals: &amp;quot;off&amp;quot; */

function simplemath(firstNum, secondNum) {
  if (isNaN(Number(firstNum))) throw new Error(&#39;inputs must be digits&#39;)
  if (isNaN(Number(secondNum))) throw new Error(&#39;inputs must be digits&#39;)

  if (typeof firstNum !== &#39;string&#39;) throw new Error(&#39;inputs must be digits&#39;)
  if (typeof secondNum !== &#39;string&#39;) throw new Error(&#39;inputs must be digits&#39;)

  const fnum = Number(firstNum)
  const snum = Number(secondNum)

  let mathObj = {
    add: fnum + snum,
    subtract: fnum - snum,
    multiply: fnum * snum,
    divide: fnum / snum,
  }

  mathObj.divide = parseFloat(mathObj.divide.toFixed(2))

  return `${fnum} + ${snum} = ${mathObj.add}\n${fnum} - ${snum} = ${mathObj.subtract}\n${fnum} * ${snum} = ${mathObj.multiply}\n${fnum} / ${snum} = ${mathObj.divide}`
}

module.exports = simplemath
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here&amp;rsquo;s its calling script &lt;code&gt;simplemath.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;#!/usr/bin/node

const readline = require(&#39;readline&#39;)
const simplemath = require(&#39;./ex5.js&#39;)

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})

let values = {}
rl.question(&#39;What is the first number? &#39;, (firstNumber) =&amp;gt; {
  values.firstNumber = firstNumber
  rl.question(&#39;What is the second number? &#39;, (secondNumber) =&amp;gt; {
    values.secondNumber = secondNumber
    console.log(simplemath(values.firstNumber, values.secondNumber))
    rl.close()
  })
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;exercise-6&#34;&gt;Exercise 6&lt;/h1&gt;

&lt;p&gt;This exercise starts incorporating &lt;code&gt;Date()&lt;/code&gt; and doing math with that. Other than that, it&amp;rsquo;s
pretty much the same as the others.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s &lt;code&gt;ex6.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/* eslint no-restricted-globals: &amp;quot;off&amp;quot; */

function retirement(currentAge, retirementAge) {
  if (isNaN(Number(currentAge))) throw new Error(&#39;inputs must be digits&#39;)
  if (isNaN(Number(retirementAge))) throw new Error(&#39;inputs must be digits&#39;)

  if (typeof currentAge !== &#39;string&#39;) throw new Error(&#39;inputs must be digits&#39;)
  if (typeof retirementAge !== &#39;string&#39;) throw new Error(&#39;inputs must be digits&#39;)

  const years = retirementAge - currentAge
  const curYear = new Date().getFullYear()
  const retYear = curYear + years
  return `You have ${years} years left until you can retire.\nIt&#39;s ${curYear}, so you can retire in ${retYear}.`
}

module.exports = retirement
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here&amp;rsquo;s its calling script, &lt;code&gt;retirement.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;#!/usr/bin/node

const readline = require(&#39;readline&#39;)
const retirement = require(&#39;./ex6.js&#39;)

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})

let values = {}
rl.question(&#39;What is your current age? &#39;, (firstNumber) =&amp;gt; {
  values.firstNumber = firstNumber
  rl.question(&#39;At what age would you like to retire? &#39;, (secondNumber) =&amp;gt; {
    values.secondNumber = secondNumber
    console.log(retirement(values.firstNumber, values.secondNumber))
    rl.close()
  })
})
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Exercises for Programmers 1 - NodeJS</title>
      <link>https://ackso.net/project/exercises-for-programmers-1/</link>
      <pubDate>Tue, 19 Dec 2017 21:07:16 -0700</pubDate>
      
      <guid>https://ackso.net/project/exercises-for-programmers-1/</guid>
      <description>

&lt;p&gt;I decided to start working through exercises in
&lt;a href=&#34;https://pragprog.com/book/bhwb/exercises-for-programmers&#34; target=&#34;_blank&#34;&gt;Exercises for Programmers&lt;/a&gt;
and sticking my solutions and thoughts here.
I definitely encourage you to buy directly from &lt;a href=&#34;https://pragprog.com&#34; target=&#34;_blank&#34;&gt;The Pragmatic Bookshelf&lt;/a&gt;.
I really love their books because they have great depth and they often cover a lot
of things that are of interest and value to the technical community, but aren&amp;rsquo;t
just about tech.
A great example of this is
&lt;a href=&#34;https://pragprog.com/book/ahptl/pragmatic-thinking-and-learning&#34; target=&#34;_blank&#34;&gt;Pragmatic Thinking and Learning&lt;/a&gt;
which I&amp;rsquo;ve gotten a great deal of value from.&lt;/p&gt;

&lt;p&gt;Anyhow, on with the first exercise in the book!&lt;/p&gt;

&lt;h1 id=&#34;chapter-1&#34;&gt;Chapter 1&lt;/h1&gt;

&lt;p&gt;The Chapter 1 exercise to kick things off is for creating a tip calculator.
The book wants it to be an interactive program, using &lt;code&gt;readlines&lt;/code&gt;-type functionality.
I&amp;rsquo;m opting (for now at least) to just write functions that take the parameters as defined
in the problem, and outputting an object or something that can be fairly easily parsed.
This lets me easily test it.&lt;/p&gt;

&lt;h2 id=&#34;testing&#34;&gt;Testing&lt;/h2&gt;

&lt;p&gt;I&amp;rsquo;m using &lt;a href=&#34;https://mochajs.org&#34; target=&#34;_blank&#34;&gt;Mocha&lt;/a&gt; with &lt;a href=&#34;https://github.com/Automattic/expect.js&#34; target=&#34;_blank&#34;&gt;Expect.js&lt;/a&gt;
for my testing.
I started out with just a couple simple tests to verify that the outputs from known inputs
matched some reference values and used that as my only test until things started working.
From there I started adding in other test conditions, like what should happen if strings or
&lt;code&gt;undefined&lt;/code&gt; or &lt;code&gt;null&lt;/code&gt; values are enterred, and added conditionals in my function to check
for and handle these scenarios.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s my &lt;code&gt;ch1.test.js&lt;/code&gt; file:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/* eslint no-undef: &amp;quot;off&amp;quot; */

let expect = require(&#39;expect.js&#39;)
let tipCalculator = require(&#39;../ch1&#39;)

describe(&#39;tipCalculator&#39;, () =&amp;gt; {
  let ref_tests = [
    { args: [1, 15], expected: { tip: 0.15, total: 1.15 } },
    { args: [15, 20], expected: { tip: 3.00, total: 18.00 } },
    { args: [15.30, 18.5], expected: { tip: 2.83, total: 18.13 } },
  ]
  it(&#39;correctly outputs values equal to reference&#39;, () =&amp;gt; {
    ref_tests.forEach((test) =&amp;gt; {
      expect(tipCalculator(test.args[0], test.args[1])).to.eql(test.expected)
    })
  })

  let err_tests = [
    { args: [&#39;one&#39;, 15], throws: &#39;billAmount must be a number, either float or integer.&#39; },
    { args: [1, &#39;fifteen&#39;], throws: &#39;tipRate must be a number, either float or integer.&#39; },
    { args: [&#39;one&#39;, &#39;fifteen&#39;], throws: &#39;billAmount must be a number, either float or integer.&#39; },
    { args: [0, 15], throws: &#39;billAmount must be greater than 0&#39; },
    { args: [-12, 15], throws: &#39;billAmount must be greater than 0&#39; },
    { args: [12, -15], throws: &#39;tipRate must be greater than 0&#39; },
    { args: [12, 0], throws: &#39;tipRate must be greater than 0&#39; },
    { args: [undefined, 0], throws: &#39;billAmount must be greater than 0&#39; },
    { args: [0, undefined], throws: &#39;tipRate must be greater than 0&#39; },
    { args: [undefined, undefined], throws: &#39;billAmount must be greater than 0&#39; },
    { args: [null, null], throws: &#39;billAmount must be greater than 0&#39; },
  ]
  it(&#39;throw on invalid inputs&#39;, () =&amp;gt; {
    err_tests.forEach((test) =&amp;gt; {
      expect(tipCalculator).withArgs(test.args[0], test.args[1]).to.throwError(test.throws)
    })
  })
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;tipcalculator-function&#34;&gt;&lt;code&gt;tipCalculator&lt;/code&gt; Function&lt;/h2&gt;

&lt;p&gt;My &lt;code&gt;tipCalculator&lt;/code&gt; function started out just doing the basic math required to calculate the
tip amount and the total bill amount based on the two inputs.
As it started passing the test showing that it was equal to reference and I added more tests
for bad inputs, it necessarily grew in order to handle those things.
Basically, none of that progression should come as a surprise.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s the function in all its glory:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function tipCalculator(billAmount, tipRate) {
  let bill = billAmount
  let tipPerc = tipRate

  if (typeof bill !== &#39;number&#39;) {
    throw new Error(&#39;billAmount must be a number, either float or integer.&#39;)
  }

  if (typeof tipPerc !== &#39;number&#39;) {
    throw new Error(&#39;tipRate must be a number, either float or integer.&#39;)
  }

  if (bill &amp;lt;= 0) {
    throw new Error(&#39;billAmount must be greater than 0&#39;)
  }

  if (tipPerc &amp;lt;= 0) {
    throw new Error(&#39;tipRate must be greater than 0&#39;)
  }

  if (tipPerc &amp;lt; 1) {
    console.warn(
      &#39;You entered a tipRate less than 1.\n&#39;,
      &#39;The program will still function with this value, however you should know that it &#39;,
      &#39;expects the tipRate to be in the form of, for example 15%, so you would enter 15 &#39;,
      &#39;not 0.15.\n&#39;,
    )
  }

  tipPerc /= 100

  let tip = parseFloat((bill * tipPerc).toFixed(2))
  let total = parseFloat((bill + tip).toFixed(2))

  return { tip, total }
}

module.exports = tipCalculator
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;growing&#34;&gt;Growing&lt;/h2&gt;

&lt;p&gt;After I was mostly finished I started reviewing my work and the documentation for Mocha and
realized that I could set Mocha to watch for changes in my files, which is super handy.
After adding that into my &lt;code&gt;package.json&lt;/code&gt; I also realized that I hadn&amp;rsquo;t seen a single &lt;code&gt;eslint&lt;/code&gt;
message the whole time that I was writing it and realized I had failed to initialize it.
So I got that initialized along with some of my favored &lt;code&gt;eslint&lt;/code&gt; settings and set about to
correcting my linting errors until I made it to what I&amp;rsquo;ve posted here.&lt;/p&gt;

&lt;h1 id=&#34;aftermath&#34;&gt;Aftermath&lt;/h1&gt;

&lt;p&gt;So this was good.
It&amp;rsquo;s been a bit since I&amp;rsquo;ve set up a Node project from scratch, and I&amp;rsquo;m going to keep working
through these exercises and posting on my progress here.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m looking forward to working through Chapter 2.
It has 6 pretty basic exercises, so we&amp;rsquo;ll see if I can get them all into one post, or if it
will take a few to get through.&lt;/p&gt;

&lt;p&gt;Also, you can check out my repo of all of my code for this series of posts
&lt;a href=&#34;https://github.com/jeremy-j-ackso/exercises-for-programmers-nodejs&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why I Use Vagrant So Much</title>
      <link>https://ackso.net/post/why-i-use-vagrant-so-much/</link>
      <pubDate>Sun, 17 Dec 2017 17:03:13 -0700</pubDate>
      
      <guid>https://ackso.net/post/why-i-use-vagrant-so-much/</guid>
      <description>

&lt;p&gt;I use &lt;a href=&#34;https://vagrantup.com&#34; target=&#34;_blank&#34;&gt;Vagrant&lt;/a&gt; for a bunch of different tasks.
If I&amp;rsquo;m forced to use a Windows-based workstation I like to use Vagrant so that I have a standard
Linux virtual machine available to me at all times so that I can do basic types of tasks
that I might need &lt;code&gt;bash&lt;/code&gt;, &lt;code&gt;python&lt;/code&gt;, &lt;code&gt;ruby&lt;/code&gt;, or &lt;code&gt;gnu-utils&lt;/code&gt; for.
I also use it for what it&amp;rsquo;s mostly intended for: &lt;strong&gt;having a development environment that mimics
my targetted deployment environment in as many ways as possible.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Suppose that I&amp;rsquo;m working on a MEAN stack website.
I probably don&amp;rsquo;t want to actually just build it on my machine, especially if I&amp;rsquo;m working with
someone else.
Yes, my personal machines all use Debian Stable, which should be just fine for development that
targets an Ubuntu VM in the cloud, or on a VPS, but my personal machines also have a bunch of
software installed that has nothing to do with the operation of a website.
I&amp;rsquo;m talking about things like window and desktop managers, web browsers, my time tracking
application, sqlite, and lots of other software that&amp;rsquo;s out there.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s complicate this further and suppose that I&amp;rsquo;m collaborating on this with a teammate who&amp;rsquo;s
on a Mac.
Just for the heck of it, let&amp;rsquo;s say that we have third teammate helping us out who&amp;rsquo;s on Windows.
They have all of their own stuff running on their machines that works in different and unique
ways that fail to be close in any way to the deployment target.
So in this situation, we need a way to have a common target that we can develop and test towards.
&lt;strong&gt;This is where Vagrant comes to the rescue.&lt;/strong&gt;&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#about-vagrant&#34;&gt;About Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ways-that-vagrant-helps-our-work&#34;&gt;Ways that Vagrant helps our work&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-vagrantfile&#34;&gt;The Vagrantfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#launching-vagrant&#34;&gt;Launching Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dealing-with-misconfiguration&#34;&gt;Dealing with misconfiguration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#wrapping-up&#34;&gt;Wrapping up&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#resources&#34;&gt;Resources&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;about-vagrant&#34;&gt;About Vagrant&lt;/h1&gt;

&lt;p&gt;Vagrant (&lt;a href=&#34;https://github.com/hashicorp/vagrant&#34; target=&#34;_blank&#34;&gt;github&lt;/a&gt;) is a tool built mostly in Ruby for
driving Virtual Machines across different platforms in a standardized way.
It integrates well with various configuration management tools like Chef, and is even
capable of driving your VM&amp;rsquo;s in most, if not all, major cloud providers.&lt;/p&gt;

&lt;p&gt;I (and my colleagues) predominantly use it to drive VirtualBox on our workstations,
though we&amp;rsquo;re hoping that as our IT org moves more towards infrastructure-as-code we&amp;rsquo;ll
be able to get them to give us standardized images as well as the ability to deploy these
directly to our cloud provider.&lt;/p&gt;

&lt;h1 id=&#34;ways-that-vagrant-helps-our-work&#34;&gt;Ways that Vagrant helps our work&lt;/h1&gt;

&lt;p&gt;So far I&amp;rsquo;ve only explained how Vagrant helps my team collaborate on development towards a common
deployment target, regardless of what kind of operating systems we&amp;rsquo;re actually running on our
workstations.
For actually doing the work, Vagrant also helps in bunch of other ways.&lt;/p&gt;

&lt;p&gt;We automatically suppose that our ultimate deployment target is just going to be a barebones
Linux VM, probably either CentOS or Ubuntu.
However, we have a bunch of software that we need to install in order to be able to get a running
website, analytics service, or database.
Vagrant helps here because we can create provisioning scripts in something like bash (or a
configuration management system if we were more advanced) and lets us provision, modify scripts,
and reprovision virtual machines on our workstations in very quick iterations.
That way, if something is messed up in the way we configured our server or software we can
quickly detect that, fix it in the script, and then reprovision the VM to test and check it out.
We can even include scripts to do things like configuring our &lt;code&gt;cron&lt;/code&gt; jobs, setting up &lt;code&gt;systemd&lt;/code&gt;
so that the process running our website can start on boot and recover from failures,
configure our webserver (like &lt;code&gt;nginx&lt;/code&gt; or &lt;code&gt;apache&lt;/code&gt;), and any number of other things that we
would like to happen during server provisioning.
The best part is that we haven&amp;rsquo;t wasted a dime on our actual deployment server yet!&lt;/p&gt;

&lt;h1 id=&#34;the-vagrantfile&#34;&gt;The Vagrantfile&lt;/h1&gt;

&lt;p&gt;You configure your VM&amp;rsquo;s using a &lt;code&gt;Vagrantfile&lt;/code&gt;, which specifies the VM image you want to use,
the size of the VM (think CPU cores and memory), what kind of a networking situation needs to
happen to make it similar to the deployment target (like available ports, etc), and shared
folders (so that you can still just modify all of your code using your local text editor, and
not whatever is available once you login to the VM).
&lt;code&gt;Vagrantfile&lt;/code&gt;s have a lot of different configuration options, but these are the ones that are
probably most important for a normal user, along with telling it what scripts you want it to
run as part of the provisioning process.
Since your &lt;code&gt;Vagrantfile&lt;/code&gt; is just ruby code, you get the benefit of being able to include it in
your project&amp;rsquo;s repository, so that it can be easily shared with all the members of your team.&lt;/p&gt;

&lt;p&gt;So let&amp;rsquo;s say that you want to use Vagrant for a project.
Doing a basic setup is extremely easy.
You just run &lt;code&gt;vagrant init&lt;/code&gt; and it will create a barebones &lt;code&gt;Vagrantfile&lt;/code&gt; for you to modify
as needed.&lt;/p&gt;

&lt;p&gt;So, what do you put in your &lt;code&gt;Vagrantfile&lt;/code&gt;?
Let&amp;rsquo;s make a list about what we know about our website project:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;We need to have port 80 available.&lt;/li&gt;
&lt;li&gt;We plan on using &lt;code&gt;nginx&lt;/code&gt; and &lt;code&gt;mysql&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;We need NodeJS, version 8.x installed.&lt;/li&gt;
&lt;li&gt;Deployment target is Ubuntu 16.04.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When you open your Vagrantfile, it will have a bunch of boilerplate with some sensible defaults
and explanations about common configuration settings that you can have.
I&amp;rsquo;m going to exclude all of that here and just put in the Vagrant configs that we actually need
to accomplish what&amp;rsquo;s in our list.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;Vagrant.configure(&amp;quot;2&amp;quot;) do |config|

  # The bento project provides high quality VM images for a number of Linux OS&#39;s.
  config.vm.box = &amp;quot;bento/ubuntu-16.04&amp;quot;

  # We need port 80 on our VM, but let&#39;s forward it port 8080 on the laptop.
  config.vm.network &amp;quot;forwarded_port&amp;quot;, guest: 80, host: 8080

  # Here&#39;s our VirtualBox configurations
  config.vm.provider &amp;quot;virtualbox&amp;quot; do |vb|
    # Display the VirtualBox GUI when booting the machine
    vb.gui = false
  
    # Customize the amount of memory on the VM:
    vb.memory = &amp;quot;1024&amp;quot;
    vb.cores = &amp;quot;2&amp;quot;
  end

  # We could modify this to point at a provision script, but we&#39;ll just do it inline.
  # Keep in mind that everything in this block is run as root at /home/vagrant.
  config.vm.provision &amp;quot;shell&amp;quot;, inline: &amp;lt;&amp;lt;-SHELL
    # Copied from https://github.com/nodesource/distributions
    curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -

    apt-get update
    apt-get install -y nginx mysql git nodejs
  SHELL

end
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;launching-vagrant&#34;&gt;Launching Vagrant&lt;/h1&gt;

&lt;p&gt;Once the Vagrantfile is written we can launch the VM by running &lt;code&gt;vagrant up&lt;/code&gt; and we&amp;rsquo;ll soon
have a running VM.
Keep in mind that the first time you run &lt;code&gt;vagrant up&lt;/code&gt; for any particular Virtual Machine Image
(&lt;code&gt;bento/ubuntu-16.04&lt;/code&gt; in this case), Vagrant will first download the Virtual Machine Image
(called &lt;code&gt;boxes&lt;/code&gt; in Vagrant parlance) into a default VM library, then create a copy of it to be
configured according to what you&amp;rsquo;ve specified.
Because of this, you definitely need a fast internet connection, and ideally should have an SSD
installed to your workstation.
Once you have that box downloaded once, you won&amp;rsquo;t have to download it again, though Vagrant
may let you know when a new version of the box is available for download.&lt;/p&gt;

&lt;p&gt;Vagrant will also print out a bunch of messages describing what it&amp;rsquo;s doing at any given moment,
as well as everything that gets printed to &lt;code&gt;stdout&lt;/code&gt; and &lt;code&gt;stderr&lt;/code&gt; as a result of the commands
run in your &lt;code&gt;config.vm.provision&lt;/code&gt; block.
When the provisioning process is complete, Vagrant will return you to your command prompt with
either a success message or a message that there was some kind of failure.
If it was a success, and even in some failure cases, you should now be able to log in to your
running VM by using &lt;code&gt;vagrant ssh&lt;/code&gt;.
Then, once you&amp;rsquo;re in you can check that everything is as you intended the configuration to be.&lt;/p&gt;

&lt;h1 id=&#34;dealing-with-misconfiguration&#34;&gt;Dealing with misconfiguration&lt;/h1&gt;

&lt;p&gt;If you do find a problem with your configuration you can start editing your &lt;code&gt;Vagrantfile&lt;/code&gt; and
provisioning scripts to correct your mistakes.
Once you&amp;rsquo;re done making your changes you reprovision the VM at a level appropriate for the change
you&amp;rsquo;re making.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Say you&#39;re just changing a minor configuration detail, you can just run:
vagrant reload --provision

# If you made some big changes and want to start with a fresh box:
vagrant destroy
vagrant up
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Keep in mind that just doing &lt;code&gt;vagrant reload --provision&lt;/code&gt; will also take less time than destroying
and starting totally fresh, so just be aware of what you&amp;rsquo;re doing and not wasting more time than
you need to in getting your configurations correct.&lt;/p&gt;

&lt;h1 id=&#34;wrapping-up&#34;&gt;Wrapping up&lt;/h1&gt;

&lt;p&gt;So we&amp;rsquo;ve covered some good uses and reasons for using Vagrant, we did a quick demo showing off
how to configure a Vagrant box for use in a project, and how to deal with configuration problems.
Now it&amp;rsquo;s up to you to find novel uses of this great piece of software and start building
good, reproducible software with it!&lt;/p&gt;

&lt;h1 id=&#34;resources&#34;&gt;Resources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://vagrantup.com&#34; target=&#34;_blank&#34;&gt;Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hashicorp/vagrant&#34; target=&#34;_blank&#34;&gt;Vagrant on Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://virtualbox.org&#34; target=&#34;_blank&#34;&gt;VirtualBox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://hashicorp.com&#34; target=&#34;_blank&#34;&gt;HashiCorp, the makers of Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/chef/bento&#34; target=&#34;_blank&#34;&gt;The Bento Project, by Chef.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://chef.io&#34; target=&#34;_blank&#34;&gt;Chef&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://app.hashicorp.com/boxes/search&#34; target=&#34;_blank&#34;&gt;Discover other Vagrant Boxes here&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>My Terminal Configs</title>
      <link>https://ackso.net/post/my-terminal-configs/</link>
      <pubDate>Sun, 17 Dec 2017 14:15:50 -0700</pubDate>
      
      <guid>https://ackso.net/post/my-terminal-configs/</guid>
      <description>

&lt;p&gt;It&amp;rsquo;s starting to become more popular for some hiring companies to request your
&amp;ldquo;dot&amp;rdquo; files to show how you configure your environment.
I figure this is probably intended to be something akin to a signalling mechanism,
meaning that you&amp;rsquo;re into the weeds enough to know that on *NIX systems you have
configuration files for each user on the system, typically prefixed with a &amp;ldquo;dot&amp;rdquo;.
Hence we have files like &lt;code&gt;.bashrc&lt;/code&gt; that gets executed when you open a new bash
session and sets up the environment for you.
Same for vim, where you have the &lt;code&gt;.vimrc&lt;/code&gt; file.
You can potentially have many more (including &amp;ldquo;dot&amp;rdquo; folders, like &lt;code&gt;.ssh&lt;/code&gt;), just
depending on what software you use on a regular basis on your *NIX system.&lt;/p&gt;

&lt;p&gt;So I want to show and explain a few of my &amp;ldquo;dot&amp;rdquo; files here, but first, I have a gripe.&lt;/p&gt;

&lt;p&gt;The point of having systems that, to whatever extent they may, conform to POSIX
standards is to facilitate interoperability.
Not only of systems, but users also.
That&amp;rsquo;s why things like &lt;code&gt;vi&lt;/code&gt;, &lt;code&gt;nano&lt;/code&gt;, and &lt;code&gt;gnu-utils&lt;/code&gt; are pretty uniformly auto-installed
on *NIX systems.
That makes it easy for me, Sue the Admin, or Joe the Developer to log in to a
system they never have and at least know the tools available to them.
For that reason, I&amp;rsquo;m not a huge fan of doing a lot of customization of my &amp;ldquo;dot&amp;rdquo; files
and I try to encourage people to know the defaults quite well prior to customizing.&lt;/p&gt;

&lt;p&gt;End of gripe.&lt;/p&gt;

&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#justification&#34;&gt;Justification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bashrc&#34;&gt;.bashrc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vimrc&#34;&gt;.vimrc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tmux-conf&#34;&gt;.tmux.conf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;


&lt;h1 id=&#34;justification&#34;&gt;Justification&lt;/h1&gt;

&lt;p&gt;So I just finished up my gripe about not using the standard tools and I&amp;rsquo;m about to start
talking about &lt;code&gt;vim&lt;/code&gt; and &lt;code&gt;tmux&lt;/code&gt;, neither of which fall into that &amp;ldquo;ubiquitously installed&amp;rdquo;
category.
Well, there&amp;rsquo;s a reason for that.&lt;/p&gt;

&lt;p&gt;I like &lt;code&gt;vi&lt;/code&gt; well enough and can definitely use it without any troubles.
However, &lt;code&gt;vim&lt;/code&gt; gives me some added functionality that is really useful for doing
development work, particularly &lt;code&gt;syntastic&lt;/code&gt; for syntax checking/linting, &lt;code&gt;EDITORCONFIG&lt;/code&gt;,
and some additional keybind functionalities that are just missing from &lt;code&gt;vi&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Then there&amp;rsquo;s &lt;code&gt;tmux&lt;/code&gt;.
Again, &lt;code&gt;screen&lt;/code&gt; is perfectly good and I can use it well enough, but there were just
some things that didn&amp;rsquo;t work the way I was hoping.
For instance, &lt;code&gt;screen&lt;/code&gt; requires a lot more combination keybinds to do things that
I would hope would be much simpler, such as splitting panes.
Also, &lt;code&gt;tmux&lt;/code&gt;&amp;rsquo;s configurability is quite a bit stronger.&lt;/p&gt;

&lt;h1 id=&#34;bashrc&#34;&gt;.bashrc&lt;/h1&gt;

&lt;p&gt;My &lt;code&gt;.bashrc&lt;/code&gt; is fairly plain-jane.
The only things that I&amp;rsquo;ve added are to put a few things in &lt;code&gt;$PATH&lt;/code&gt; that are not
enabled by default, like snaps (I&amp;rsquo;m on BunsenLabs Helium/Debian Stretch).
I don&amp;rsquo;t have any special aliases for things that I use a lot because I value
that muscle memory of being able to quickly use the standard built-in tools.&lt;/p&gt;

&lt;p&gt;So, my &lt;code&gt;.bashrc&lt;/code&gt; is the standard &lt;code&gt;.bashrc&lt;/code&gt; that you get when creating a new user
on a Debian system, with the following two lines added at the end.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export PATH=$PATH:/snap/bin
export EDITOR=&#39;vim&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;vimrc&#34;&gt;.vimrc&lt;/h1&gt;

&lt;p&gt;My &lt;code&gt;.vimrc&lt;/code&gt; has a bit more customization for things like &lt;code&gt;EDITORCONFIG&lt;/code&gt;, &lt;code&gt;syntastic&lt;/code&gt;,
and the &lt;code&gt;solarized&lt;/code&gt; color scheme.
Still no special aliases for doing special things.
You&amp;rsquo;ll notice nothing about &lt;code&gt;EDITORCONFIG&lt;/code&gt; here, but it&amp;rsquo;s being brought in by &lt;code&gt;pathogen&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set nocompatible
syntax on
set autoindent		&amp;quot; always set autoindenting on
set smartindent
set nowrap		&amp;quot; turns off text wrapping
set number 		&amp;quot; turns line numbering on
colorscheme solarized
set background=dark
set ruler		&amp;quot; show the cursor position all the time

set smarttab
set softtabstop=2
set expandtab
set shiftwidth=2
set tabstop=2
filetype indent plugin on
set showcmd
set hlsearch
set ignorecase
set smartcase
set ruler
set laststatus=2
set confirm

set cmdheight=2

&amp;quot; Disable python-mode in favor of syntastic
let g:pymode_lint = 0
let g:pymode_lint_on_write = 0

&amp;quot; Syntastic setup
let g:syntastic_aggregate_errors = 1
let g:syntastic_always_populate_loc_list = 1
let g:syntastic_auto_loc_list = 1
let g:syntastic_auto_jump = 1
let g:syntastic_check_on_open = 1
let g:syntastic_check_on_wq = 0
let g:syntastic_javascript_checkers = [&#39;eslint&#39;]
let g:syntastic_python_checkers = [&#39;pep8&#39;, &#39;python&#39;]
let g:syntastic_tex_checkers = [&#39;lacheck&#39;]

let Vimplate=&amp;quot;/usr/bin/vimplate&amp;quot;

&amp;quot; Pathogen config
execute pathogen#infect()
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;tmux-conf&#34;&gt;.tmux.conf&lt;/h1&gt;

&lt;p&gt;Again, not doing much special with tmux.
I&amp;rsquo;ve considered setting up my usual pane layout to automatically be used when I
start a new &lt;code&gt;tmux&lt;/code&gt; session, but I just haven&amp;rsquo;t gotten around to it.
Most of these are the defaults.
The only ones I&amp;rsquo;ve changed are to have a 256 color terminal (because baller),
change the pane index to be 1-based instead of 0-based because it makes it easier
to switch panes one-handed, letting tmux now that I use vim, and making the pane
numbers display a bit longer on screen to give me a second to decide which pane
I want to switch to.&lt;/p&gt;

&lt;p&gt;My standard setup is 3-panes, with my main pane vertical on the right, and the other
two panes split horizontally on the left.
I like this better since it puts the vertical center line between the panes near the
middle of my screen, and therefore the left edge of my text editor is pretty close
to the middle of the screen as well.
&lt;code&gt;tmux&lt;/code&gt; actually has a layout preset that&amp;rsquo;s pretty similar to this called &lt;code&gt;main-vertical&lt;/code&gt;,
however it puts the large &amp;ldquo;main&amp;rdquo; vertical pane on the left instead of the right.
Putting my main pane closer to the middle of the screen is definitely a bit more
natural since that&amp;rsquo;s where my attention will naturally be drawn.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set -g default-terminal &amp;quot;tmux-256color&amp;quot;
set -g pane-base-index 1
set-window-option -g mode-keys vi
set -g display-panes-time 3000
set -g display-time 3000
set -g status-fg cyan # ThG original was: white
set -g status-bg default
set -g status-attr default
set -g status-left &amp;quot;&amp;quot;
if &#39;[ -z &amp;quot;$DISPLAY&amp;quot; ]&#39; &#39;set -g status-left &amp;quot;[#[fg=green] #H #[default]]&amp;quot;&#39;
if &#39;[ -z &amp;quot;$DISPLAY&amp;quot; ]&#39; &#39;set -g status-right &amp;quot;[ #[fg=magenta]#(cat /proc/loadavg | cut -d \&amp;quot; \&amp;quot; -f 1,2,3)#[default] ][ #[fg=cyan,bright]%a %Y-%m-%d %H:%M #[default]]&amp;quot;&#39;
if &#39;[ -z &amp;quot;$DISPLAY&amp;quot; ]&#39; &#39;set -g status-right-length 50&#39;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>The Wedge Pattern</title>
      <link>https://ackso.net/post/the-wedge-pattern/</link>
      <pubDate>Sat, 16 Dec 2017 22:30:48 -0700</pubDate>
      
      <guid>https://ackso.net/post/the-wedge-pattern/</guid>
      <description>&lt;p&gt;Let&amp;rsquo;s face it: Excel doesn&amp;rsquo;t respect data.
Unfortunately, tons of people use it and somehow successfully make very important decisions with it.
That means that we have to live with the fallout from that if we&amp;rsquo;re trying to use that badly
formatted data they&amp;rsquo;re producing in meaningful ways.&lt;/p&gt;

&lt;p&gt;One of the worst data patterns that comes out of Excel can be called the &amp;ldquo;Wedge Pattern&amp;rdquo;.
This happens when somebody just throws a bunch of data into a PivotTable and calls it &amp;ldquo;good enough&amp;rdquo;,
without adhering to any sort of common data standard, like repeating values down the entire column,
or having data (or headers) start in the first row of the first column.
It&amp;rsquo;s a real problem, and when it&amp;rsquo;s exported to CSV it looks something like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;,,,,,,
,&amp;quot;Last Name&amp;quot;,&amp;quot;First Name&amp;quot;,&amp;quot;Email&amp;quot;,&amp;quot;Item&amp;quot;,&amp;quot;Quantity&amp;quot;,&amp;quot;Unit Price&amp;quot;,&amp;quot;Subtotal&amp;quot;
,&amp;quot;Smith&amp;quot;,&amp;quot;Sue&amp;quot;,&amp;quot;sue@email.org&amp;quot;,&amp;quot;Coffee&amp;quot;,1,1.00,1.00
,,,&amp;quot;Filters&amp;quot;,5,1.00,5.00
,,,,,&amp;quot;Subtotal&amp;quot;,6.00
,&amp;quot;Bob&amp;quot;,,&amp;quot;Coffee&amp;quot;,2,1.00,2.00
,,,&amp;quot;Filters&amp;quot;,10,1.00,10.00
,,,,,&amp;quot;Subtotal&amp;quot;,12.00
,&amp;quot;Jones&amp;quot;,&amp;quot;Tom&amp;quot;,&amp;quot;tom@email.org&amp;quot;,&amp;quot;Coffee&amp;quot;,3,1.00,3.00
,,,,,&amp;quot;Subtotal&amp;quot;,3.00
,,&amp;quot;Ana&amp;quot;,&amp;quot;ana@email.org&amp;quot;,&amp;quot;Coffee&amp;quot;,8,1.00.8.00
,,,,,&amp;quot;Subtotal&amp;quot;,8.00
,,,,,&amp;quot;Total&amp;quot;,29.00
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When it&amp;rsquo;s broken out into a table, the badness of this pattern becomes pretty clear.
I&amp;rsquo;m going to exclude the first row and column, since they aren&amp;rsquo;t necessary for showing the
actual &amp;ldquo;wedge&amp;rdquo; shape here.&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Last Name&lt;/th&gt;
&lt;th&gt;First Name&lt;/th&gt;
&lt;th&gt;Email&lt;/th&gt;
&lt;th&gt;Item&lt;/th&gt;
&lt;th&gt;Quantity&lt;/th&gt;
&lt;th&gt;Unit Price&lt;/th&gt;
&lt;th&gt;Subtotal&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Smith&lt;/td&gt;
&lt;td&gt;Sue&lt;/td&gt;
&lt;td&gt;sue@email.org&lt;/td&gt;
&lt;td&gt;Coffee&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1.00&lt;/td&gt;
&lt;td&gt;1.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Filters&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;1.00&lt;/td&gt;
&lt;td&gt;5.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Subtotal&lt;/td&gt;
&lt;td&gt;6.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Bob&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Coffee&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;1.00&lt;/td&gt;
&lt;td&gt;2.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Filters&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;1.00&lt;/td&gt;
&lt;td&gt;10.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Subtotal&lt;/td&gt;
&lt;td&gt;12.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Jones&lt;/td&gt;
&lt;td&gt;Tom&lt;/td&gt;
&lt;td&gt;tom@email.org&lt;/td&gt;
&lt;td&gt;Coffee&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;1.00&lt;/td&gt;
&lt;td&gt;3.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Subtotal&lt;/td&gt;
&lt;td&gt;3.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Ana&lt;/td&gt;
&lt;td&gt;ana@email.org&lt;/td&gt;
&lt;td&gt;Coffee&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;1.00&lt;/td&gt;
&lt;td&gt;8.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Subtotal&lt;/td&gt;
&lt;td&gt;8.00&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Total&lt;/td&gt;
&lt;td&gt;29.00&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Fortunately, a little bit of negotiating with this data in R using the &lt;code&gt;tidyverse&lt;/code&gt; packages
can solve this pretty quickly.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# Assume the CSV has already been read in and we&#39;ve already removed
# the empty first column and row, moved the headers to their proper
# place, and stuck it all in a data.frame named `dat`.
#
# We still have yet to fix the column types.

library(tidyverse)

dat &amp;lt;-
  dat %&amp;gt;%
  fill(`Last Name`, `First Name`)

# At this point we&#39;re doing pretty good, but we still have to deal
# with the Subtotal and Total rows. We&#39;ll fall back on `plyr` for
# this. The reason we need to go there is because of &amp;quot;Bob&amp;quot;.
# He doesn&#39;t have an email address, and we don&#39;t want to carry
# &amp;quot;Sue&#39;s&amp;quot; email address down to him. Using `ddply` will let us
# be flexible in how we handle these different things.

library(plyr)

dat &amp;lt;- ddply(
  dat,
  c(&#39;Last Name&#39;, &#39;First Name&#39;),
  function(x) {
    x &amp;lt;- x[!is.na(x$Item), ]
    x &amp;lt;- x %&amp;gt;% fill(Email)
    return(x)
  }
)

dat$`Unit Price` &amp;lt;- as_numeric(dat$`Unit Price`)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This one is a fairly contrived example, but more complicated specimen of this ilk exist, which
may require you to begin by filling just one or two columns, performing other operations, and
then continuing with the fill.&lt;/p&gt;

&lt;p&gt;So, how can you prevent this in the first place? Evangelism. Pure and simple. Show people a
better way and make them believe that it is a better way.
However, if they&amp;rsquo;re really that dedicated to Excel, you may not be able to sway them.&lt;/p&gt;

&lt;p&gt;Good luck!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
